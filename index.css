/**
 * roman-portfolio.css
 * Consolidated CSS file for the Roman-themed portfolio website
 * Version: 2.0 (Enhanced Visuals & Fixes)
 * Last Updated: April 21, 2025
 */

/* =============================================
   1. CSS VARIABLES AND ROOT SETTINGS
   ============================================= */
   :root {
    /* Font Families */
    --font-title: 'Cinzel', serif;             /* For main headings (H1, H2) */
    --font-subtitle: 'Cormorant Garamond', serif; /* For subtitles, accents */
    --font-body: 'Forum', serif;               /* For body text, navigation */
    --font-modern: 'Poppins', sans-serif;       /* For UI elements like buttons */
    --font-code: 'Courier New', Courier, monospace; /* For code snippets */

    /* Core Colors (Shared Values) */
    --color-gold-light: #daa520; /* Standard Roman Gold */
    --color-gold-medium: #cd950c;/* Slightly richer gold */
    --color-gold-dark: #b8860b;  /* Darker Gold for accents/shadows */
    --color-crimson-primary: #800000; /* Roman Crimson */
    --color-crimson-dark: #600000;  /* Darker Crimson */
    --color-terracotta: #a0522d; /* Terracotta accent */
    --color-white: #ffffff;
    --color-off-white: #f4f0e8; /* Parchment/Travertine */
    --color-black: #000000;
    --color-near-black: #111111;
    --color-dark-gray: #1a1a1a;
    --color-medium-gray: #6a6a6a;
    --color-light-gray: #eaeaea;
    --color-border-brown: rgba(139, 69, 19, 0.3); /* Subtle SaddleBrown */

    /* Light Mode Theme ("Impressive Colosseum") - Default Variables */
    --bg-primary: var(--color-off-white);
    --bg-secondary: #e8e4d5;
    --bg-card: var(--color-white);
    --text-primary: #333333;
    --text-secondary: var(--color-medium-gray);
    --text-headings: var(--color-crimson-primary);
    --text-accent: var(--color-gold-medium); /* Use richer gold for accents */
    --border-primary: var(--color-border-brown);
    --shadow-primary: rgba(0, 0, 0, 0.12);
    --link-hover: var(--color-crimson-dark);
    --header-bg: rgba(244, 240, 232, 0.85); /* Light blurred header bg */
    --header-text: var(--text-primary);
    --header-border: var(--border-primary);
    --hero-text: var(--color-white); /* White text on hero image */
    --hero-overlay: linear-gradient(rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.35)); /* Lighter overlay */
    --button-primary-bg: var(--color-crimson-primary);
    --button-primary-text: var(--color-white);
    --button-primary-border: var(--color-crimson-dark);
    --button-secondary-bg: transparent;
    --button-secondary-text: var(--text-accent);
    --button-secondary-border: var(--text-accent);
    --scrollbar-thumb: var(--color-gold-dark);
    --scrollbar-track: var(--bg-secondary); /* Fixed: Use bg-secondary instead of lm-bg-secondary */
    /* TODO: Define Light mode textures */
    /* --texture-bg: url('../assets/images/textures/travertine-light.png'); */
    /* --texture-bg-alt: url('../assets/images/textures/marble-light.png'); */

    /* Transitions */
    --transition-speed-fast: 0.2s;
    --transition-speed-medium: 0.4s;
    --transition-speed-slow: 0.6s;
    --transition-timing-default: ease-in-out;
    --transition-timing-bounce: cubic-bezier(0.175, 0.885, 0.32, 1.275); /* For pop effects */

    /* Other */
    --container-max-width: 1200px;
    --container-padding: 1.5rem;
}
/* Dark Mode Theme ("Foreboding Pantheon") */
.dark-mode {
    --bg-primary: var(--color-dark-gray);
    --bg-secondary: var(--color-near-black);
    --bg-card: #252525;
    --text-primary: var(--color-light-gray);
    --text-secondary: #a0a0a0;
    --text-headings: var(--color-gold-light); /* Gold headings */
    --text-accent: var(--color-gold-light);
    --border-primary: rgba(218, 165, 32, 0.3); /* Gold border */
    --shadow-primary: rgba(0, 0, 0, 0.5);      /* Darker, deeper shadow */
    --link-hover: var(--color-white);
    --header-bg: rgba(26, 26, 26, 0.85);       /* Dark blurred header */
    --header-text: var(--text-primary);        /* Light header text */
    --header-border: var(--border-primary);
    --hero-text: var(--color-white);
    --hero-overlay: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)); /* Lighter, more dynamic overlay */
    --button-primary-bg: var(--color-crimson-primary);
    --button-primary-text: var(--color-white);
    --button-primary-border: var(--color-crimson-dark);
    --button-secondary-bg: transparent;
    --button-secondary-text: var(--text-accent);
    --button-secondary-border: var(--text-accent);
    --scrollbar-thumb: var(--color-gold-light);
    --scrollbar-track: #333; /* Dark track */
    /* TODO: Define Dark mode textures */
    /* --texture-bg: url('../assets/images/textures/dark-stone.png'); */
    /* --texture-bg-alt: url('../assets/images/textures/dark-marble.png'); */
    
    /* Enhanced Hero Text in Dark Mode */
    .hero-section .hero-title {
        color: #ffffff;
        text-shadow: 0 0 15px rgba(218, 165, 32, 0.4), 0 2px 5px rgba(0, 0, 0, 0.7);
    }
    
    .hero-section .hero-subtitle {
        color: var(--color-gold-light);
        text-shadow: 0 0 10px rgba(218, 165, 32, 0.5), 0 1px 3px rgba(0, 0, 0, 0.8);
    }
    
    .hero-section .typed-text {
        color: #ffffff;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);
    }
    
    /* Additional Dark Mode Enhancements */
    .hero-section {
        background-blend-mode: overlay;
    }
    
    .social-link-animated {
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6), 0 0 5px rgba(218, 165, 32, 0.3);
    }
    
    .card {
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6), 0 0 5px rgba(218, 165, 32, 0.2);
    }
    
    .section-title::after {
        box-shadow: 0 0 8px rgba(218, 165, 32, 0.4);
    }
}

/* Dark Mode Transition Class */
.dark-mode-transitioning {
    transition: background-color 0.5s ease-in-out,
                color 0.5s ease-in-out,
                box-shadow 0.5s ease-in-out,
                border-color 0.5s ease-in-out;
}

/* Dark mode toggle animation overlay */
.dark-mode-toggle-animation {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.6s ease-in-out;
}

/* Column animation for dark mode toggle */
.column-animation {
    position: absolute;
    width: 60px;
    height: 100vh;
    background-image: linear-gradient(to bottom, 
        rgba(218, 165, 32, 0), 
        rgba(218, 165, 32, 0.2) 20%, 
        rgba(218, 165, 32, 0.1) 80%, 
        rgba(218, 165, 32, 0));
    opacity: 0;
    transform: translateY(-100%);
}

/* Position columns */
.column-animation:nth-child(1) { left: 10%; animation-delay: 0.1s; }
.column-animation:nth-child(2) { left: 30%; animation-delay: 0.25s; }
.column-animation:nth-child(3) { left: 50%; animation-delay: 0.15s; }
.column-animation:nth-child(4) { left: 70%; animation-delay: 0.3s; }
.column-animation:nth-child(5) { left: 90%; animation-delay: 0.2s; }

/* When dark mode is toggled on, animate columns */
.dark-mode-transitioning .dark-mode-toggle-animation {
    opacity: 1;
}

.dark-mode-transitioning .column-animation {
    animation: column-rise 0.7s ease-in-out forwards;
}

@keyframes column-rise {
    0% {
        transform: translateY(-100%);
        opacity: 0;
    }
    70% {
        transform: translateY(0);
        opacity: 0.8;
    }
    100% {
        transform: translateY(0);
        opacity: 0;
    }
}

/* Laurel wreath animation for dark mode toggle */
.laurel-animation {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    width: 300px;
    height: 300px;
    pointer-events: none;
    z-index: 9998;
    opacity: 0;
    transition: opacity 0.4s ease-in-out;
    border-radius: 50%;
    box-shadow: 
        0 0 0 2px rgba(218, 165, 32, 0.3),
        0 0 0 10px rgba(218, 165, 32, 0.1),
        0 0 30px 5px rgba(218, 165, 32, 0.2);
    background-image: 
        radial-gradient(circle, rgba(218, 165, 32, 0.1) 30%, transparent 70%);
}

.laurel-left, .laurel-right {
    position: absolute;
    width: 120px;
    height: 240px;
    top: 30px;
    opacity: 0.7;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.laurel-left {
    left: 40px;
    transform: rotate(-20deg);
    /* background-image: url('../assets/images/laurel-left.svg'); */
    /* Temporary background - actual SVG would be better */
    background-image: 
        radial-gradient(ellipse 30px 100px at left, rgba(218, 165, 32, 0.4), transparent);
}

.laurel-right {
    right: 40px;
    transform: rotate(20deg);
    /* background-image: url('../assets/images/laurel-right.svg'); */
    /* Temporary background - actual SVG would be better */
    background-image: 
        radial-gradient(ellipse 30px 100px at right, rgba(218, 165, 32, 0.4), transparent);
}

.dark-mode-transitioning .laurel-animation {
    animation: laurel-reveal 1s var(--transition-timing-bounce) forwards;
}

.dark-mode-transitioning .laurel-left {
    animation: laurel-left-rotate 1s ease-in-out forwards;
}

.dark-mode-transitioning .laurel-right {
    animation: laurel-right-rotate 1s ease-in-out forwards;
}

@keyframes laurel-reveal {
    0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
    }
    70% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
    100% {
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 0;
    }
}

@keyframes laurel-left-rotate {
    0% { transform: rotate(-20deg); opacity: 0; }
    40% { transform: rotate(-10deg); opacity: 0.9; }
    100% { transform: rotate(-5deg); opacity: 0; }
}

@keyframes laurel-right-rotate {
    0% { transform: rotate(20deg); opacity: 0; }
    40% { transform: rotate(10deg); opacity: 0.9; }
    100% { transform: rotate(5deg); opacity: 0; }
}
/* =============================================
    SPQR Banner Styling
    ============================================= */
.spqr-banner {
     position: absolute;
     top: 70px; /* Adjust based on header height */
     left: 50%;
     transform: translateX(-50%);
     z-index: 5; /* Above background, below header potentially */
     display: flex;
     align-items: center;
     justify-content: center;
     gap: 1.5rem;
     opacity: 0; /* Start hidden for animation */
    animation: banner-fade-in 1.5s ease-out 0.5s forwards; /* Entry animation only */
    pointer-events: none; /* Not interactive */
    padding: 0.5rem 2rem; /* Add padding for the banner */
    border-radius: 10px; /* Rounded corners */
}

@keyframes banner-fade-in {
    from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
    to   { opacity: 1; transform: translateX(-50%) translateY(0); }
}

/* Enhanced background effect */
.spqr-banner::before {
    content: '';
    position: absolute;
    inset: -5px -30px; /* Adjusted padding */
    background: linear-gradient(
        to bottom,
        rgba(0,0,0,0.2),
        rgba(0,0,0,0.35) 50%,
        rgba(0,0,0,0.2)
    );
    border-radius: 8px;
    z-index: -1;
    opacity: 0.85;
    border: 1px solid rgba(218, 165, 32, 0.3); /* Enhanced gold border */
    box-shadow: 0 2px 10px rgba(0,0,0,0.3),
              inset 0 0 8px rgba(218, 165, 32, 0.15);
    backdrop-filter: blur(1.5px); /* Subtle blur for integration */
    -webkit-backdrop-filter: blur(1.5px);
}

/* Text styling with enhanced glow effect */
.spqr-text {
    font-family: var(--font-title);
    font-size: clamp(1.5rem, 3vw, 2rem); /* Responsive size */
    color: var(--color-gold-light);
    letter-spacing: 3px;
    font-weight: 700;
    position: relative;
}

/* Pulsing gold glow behind text using pseudo-element */
.spqr-text::before {
    content: '';
    position: absolute;
    inset: -10px -15px;
    background: radial-gradient(ellipse at center, 
        rgba(218, 165, 32, 0.3) 0%, 
        rgba(218, 165, 32, 0.1) 60%, 
        transparent 100%);
    border-radius: 50%;
    z-index: -1;
    opacity: 0;
    animation: text-glow-pulse 3s ease-in-out infinite;
}

@keyframes text-glow-pulse {
    0% { opacity: 0.3; transform: scale(0.95); }
    50% { opacity: 0.8; transform: scale(1.05); }
    100% { opacity: 0.3; transform: scale(0.95); }
}

/* Text shadow animation */
.spqr-text {
    text-shadow: 1px 1px 0px rgba(0,0,0,0.6), 
              -1px -1px 0px rgba(255,255,255,0.1), 
              0 0 10px rgba(218, 165, 32, 0.3);
    animation: text-shadow-pulse 3s ease-in-out infinite;
}

@keyframes text-shadow-pulse {
    0% { text-shadow: 1px 1px 0px rgba(0,0,0,0.6), 
                   -1px -1px 0px rgba(255,255,255,0.1), 
                   0 0 10px rgba(218, 165, 32, 0.3); }
    50% { text-shadow: 1px 1px 0px rgba(0,0,0,0.6), 
                    -1px -1px 0px rgba(255,255,255,0.1), 
                    0 0 25px rgba(218, 165, 32, 0.7); }
    100% { text-shadow: 1px 1px 0px rgba(0,0,0,0.6), 
                    -1px -1px 0px rgba(255,255,255,0.1), 
                    0 0 10px rgba(218, 165, 32, 0.3); }
}

.dark-mode .spqr-text {
    animation: dark-text-shadow-pulse 3s ease-in-out infinite;
}

@keyframes dark-text-shadow-pulse {
    0% { text-shadow: 1px 1px 0px rgba(0,0,0,0.8),
                   -1px -1px 0px rgba(255,255,255,0.05),
                   0 0 15px rgba(218, 165, 32, 0.4); }
    50% { text-shadow: 1px 1px 0px rgba(0,0,0,0.8),
                    -1px -1px 0px rgba(255,255,255,0.05),
                    0 0 30px rgba(218, 165, 32, 0.8); }
    100% { text-shadow: 1px 1px 0px rgba(0,0,0,0.8),
                    -1px -1px 0px rgba(255,255,255,0.05),
                    0 0 15px rgba(218, 165, 32, 0.4); }
}

/* Eagle styling with enhanced shimmer effect */
.spqr-eagle {
    font-size: clamp(1.8rem, 4vw, 2.5rem); /* Adjust size */
    color: var(--color-gold-dark); /* Darker gold */
    opacity: 0.8;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    position: relative;
    overflow: hidden; /* Contain the shimmer effect */
}

/* Enhanced shimmer effect with pseudo-element */
.spqr-eagle::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        90deg, 
        rgba(218, 165, 32, 0.1), 
        rgba(218, 165, 32, 0.3),
        rgba(218, 165, 32, 0.1)
    );
    opacity: 0.5;
    animation: horizontal-shimmer 3s linear infinite;
    z-index: 1;
}

@keyframes horizontal-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* Classic shimmer effect for eagles */
.spqr-eagle::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.5),
        transparent
    );
    transform: skewX(-25deg);
    animation: eagle-shimmer 4s ease-in-out infinite;
    z-index: 2;
}

@keyframes eagle-shimmer {
    0% { left: -100%; }
    30%, 100% { left: 200%; }
}

/* Apply different timing to left and right eagles for more organic feel */
.spqr-eagle-left::after {
    animation-delay: 1s;
}

/* Flip left eagle if needed */
.spqr-eagle-left i { 
    transform: scaleX(-1); 
}

/* Decorative horizontal line */
.spqr-banner::after {
    content: '';
    position: absolute;
    top: calc(50% - 1px);
    left: -40px;
    right: -40px;
    height: 2px;
    background: linear-gradient(
        90deg,
        transparent,
        var(--color-gold-dark) 20%,
        var(--color-gold-light) 50%,
        var(--color-gold-dark) 80%,
        transparent
    );
    opacity: 0.5;
    z-index: -1;
}

/* Adjust banner position on smaller screens if needed */
@media (max-width: 767.98px) {
    .spqr-banner {
        top: 60px; /* Adjust for smaller header */
        gap: 1rem;
    }
    .spqr-text { letter-spacing: 2px; }
}

/* =============================================
   GILDED TITLE CARD PRELOADER STYLES
   ============================================= */

/* --- Main Preloader Container --- */
#preloader-title-card {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    /* Background Color - Choose one that complements gold */
    /* Option 1: Dark Crimson */
    background-color: #4d0000;
    /* Option 2: Deep Blue/Purple */
    /* background-color: #1a1a2e; */
    /* Option 3: Textured Dark Gray */
    /* background-color: #222; */
    /* background-image: linear-gradient(45deg, #333 25%, transparent 25%), linear-gradient(-45deg, #333 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #333 75%), linear-gradient(-45deg, transparent 75%, #333 75%); */
    /* background-size: 20px 20px; */
    opacity: 1;
    transition: opacity 0.8s ease-out; /* Fade out transition */
}

#preloader-title-card.hidden {
    opacity: 0;
    pointer-events: none;
}

/* Optional subtle overlay effect */
.preloader-background-overlay {
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at center, transparent 50%, rgba(0,0,0,0.5) 100%);
    z-index: 1;
    pointer-events: none;
}


/* --- Title Card Elements --- */
.title-card-container {
    position: relative;
    z-index: 2;
    perspective: 1000px; /* For potential 3D effects */
}

.gilded-title-card {
    width: clamp(300px, 80vw, 550px); /* Responsive width */
    padding: 3rem 2rem 2rem; /* Padding inside */
    background-color: rgba(10, 10, 10, 0.6); /* Dark, slightly transparent background */
    backdrop-filter: blur(5px);
    border-radius: 8px;
    text-align: center;
    position: relative; /* For pseudo-elements */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(218, 165, 32, 0.3); /* Depth and inner line */

    /* Gilded Border Effect */
    border: 3px solid transparent; /* Base border width */
    border-image: linear-gradient(145deg,
        var(--color-gold-light),
        var(--color-gold-medium),
        var(--color-gold-dark),
        var(--color-gold-medium),
        var(--color-gold-light)) 1;
    border-image-slice: 1;

    /* Add subtle texture overlay */
    /* background-image: url('path/to/subtle-texture.png'), linear-gradient(rgba(10, 10, 10, 0.6), rgba(10, 10, 10, 0.6)); */
    /* background-blend-mode: overlay, normal; */

    /* Entry Animation */
    opacity: 0;
    transform: scale(0.9) translateY(20px);
    animation: title-card-appear 1s ease-out 0.2s forwards;
}

@keyframes title-card-appear {
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}


/* --- Name Styling --- */
.preloader-name {
    font-family: var(--font-title); /* Use 'Cinzel' */
    font-size: clamp(1.8rem, 5vw, 2.5rem); /* Responsive size */
    font-weight: 600;
    letter-spacing: 1.5px;
    margin-bottom: 1.5rem;
    /* Gold text using variable */
    color: var(--color-gold-light);
    /* Text Shadow for emphasis */
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7), 0 0 5px var(--color-gold-dark);
}


/* --- Quote Styling --- */
.quote-container {
    min-height: 3.5em; /* Reserve space for quotes */
    position: relative; /* For absolute positioning of quotes */
    margin-top: 1rem;
}

.quote-item {
    position: absolute;
    inset: 0;
    margin: 0; /* Reset paragraph margin */
    padding: 0 1rem; /* Prevent text touching edges */
    font-family: var(--font-subtitle); /* Use 'Cormorant Garamond' or 'Forum' */
    font-style: italic;
    font-size: clamp(1rem, 3vw, 1.2rem);
    line-height: 1.4;
    /* Gold text */
    color: var(--color-gold-medium);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    opacity: 0;
    /* No animation defined here, just transition */
    transition: opacity 1s ease-in-out;
    will-change: opacity;
}

.quote-item.visible {
    opacity: 1;
}

.quote-item.fading-out {
    opacity: 0;
}

/* =============================================
   2. BASE STYLES & RESETS
   ============================================= */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    /* Disable default browser focus outlines if using custom ones */
    /* outline: none; */
}

html {
    scroll-behavior: smooth;
    font-size: 100%;
    -webkit-text-size-adjust: 100%;
}

body {
    font-family: var(--font-body);
    font-size: 1rem;
    line-height: 1.65; /* Slightly more line height */
    color: var(--text-primary);
    background-color: var(--bg-primary);
    /* Apply subtle background texture if desired */
    /* background-image: var(--texture-bg); */
    /* background-attachment: fixed; */
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: background-color var(--transition-speed-medium) var(--transition-timing-default),
                color var(--transition-speed-medium) var(--transition-timing-default);
}

/* Apply body background texture/gradient */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: var(--texture-bg); /* Use variable for texture */
    background-size: cover; /* Or 'auto', 'contain' */
    opacity: 0.05; /* Make texture very subtle */
    z-index: -1; /* Place behind content */
    pointer-events: none;
    /* Add subtle animation for dark mode */
    /* animation: subtle-mist 60s linear infinite alternate; */
}
/* @keyframes subtle-mist { from { transform: translateX(-10px); } to { transform: translateX(10px); } } */
/* Ensure dark mode overrides opacity if needed */
/* .dark-mode body::before { opacity: 0.08; } */


img, svg, video, canvas, object {
    max-width: 100%;
    height: auto;
    display: block;
}

a {
    color: var(--text-accent); /* Use accent color for links */
    text-decoration: none;
    transition: color var(--transition-speed-fast) var(--transition-timing-default);
}

a:hover,
a:focus {
    color: var(--link-hover);
    outline: none; /* Remove default, use focus-visible */
    text-decoration: underline;
}

/* Custom Focus Visible styles for accessibility */
*:focus-visible {
    outline: 3px solid var(--text-accent);
    outline-offset: 2px;
    box-shadow: 0 0 0 5px rgba(218, 165, 32, 0.2); /* Gold glow */
    border-radius: 2px; /* Optional rounding */
}
/* Ensure form inputs don't get double outlines */
input:focus-visible, textarea:focus-visible, select:focus-visible {
    outline: none; /* Input focus handled separately */
    box-shadow: none; /* Remove outer glow */
}


ul, ol {
    list-style-position: outside; /* Standard bullet position */
    padding-left: 1.75rem; /* Slightly more indent */
}

ul {
    list-style-type: square; /* Different bullet */
}
/* Style list items */
li::marker {
    color: var(--text-accent); /* Color the bullet */
}
li {
    margin-bottom: 0.5rem; /* Space between list items */
}

/* Accessibility: Skip Link */
.skip-link {
    position: absolute;
    top: -100px;
    left: 10px;
    background: var(--color-crimson-primary);
    color: var(--color-white);
    padding: 0.5rem 1rem;
    z-index: 1100;
    transition: top var(--transition-speed-fast) ease-in-out;
    border-radius: 0 0 4px 4px;
    font-weight: 600;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
}
.skip-link:focus {
    top: 0;
}

/* Container */
.container {
    width: 90%;
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
}

/* Main content wrapper */
.main-content-wrapper {
    position: relative;
    z-index: 1;
}

/* =============================================
   3. TYPOGRAPHY
   ============================================= */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-title);
    font-weight: 600;
    line-height: 1.25; /* Adjusted line height */
    margin-bottom: 1.25rem; /* Consistent bottom margin */
    color: var(--text-headings); /* Use heading color variable */
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); /* Subtle default shadow */
}
/* Dark mode heading shadow */
.dark-mode h1, .dark-mode h2, .dark-mode h3 {
    text-shadow: 1px 1px 1px var(--color-black), 0 0 8px rgba(218, 165, 32, 0.3); /* Chiselled + subtle glow */
}

h1 { font-size: clamp(2.5rem, 5vw, 3.8rem); letter-spacing: 1px; }
h2 { font-size: clamp(2rem, 4vw, 3rem); text-transform: uppercase; } /* Uppercase H2 */
h3 { font-size: clamp(1.5rem, 3vw, 1.8rem); }
h4 { font-size: clamp(1.2rem, 2.5vw, 1.5rem); font-family: var(--font-subtitle); font-style: italic; color: var(--text-primary); font-weight: 600;} /* Use primary text color */
h5 { font-size: 1.1rem; font-family: var(--font-subtitle); font-weight: 600;}
h6 { font-size: 1rem; font-family: var(--font-subtitle); font-weight: 600;}

p {
    margin-bottom: 1.25rem;
    color: var(--text-primary);
}

blockquote {
    font-family: var(--font-subtitle);
    font-style: italic;
    border-left: 5px solid var(--border-primary); /* Thicker border */
    padding: 0.5rem 1.5rem; /* Add vertical padding */
    margin: 1.5rem 0;
    color: var(--text-secondary);
    background-color: rgba(0,0,0,0.02); /* Very subtle background */
    border-radius: 0 4px 4px 0;
}
.dark-mode blockquote {
    background-color: rgba(255,255,255,0.03);
    border-left-color: var(--color-gold-light);
}

/* Helper class for screen reader only text */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* =============================================
   4. HEADER & NAVIGATION
   ============================================= */
.site-header {
    position: sticky;
    top: 0;
    z-index: 1000;
    background-color: var(--header-bg); /* Use variable */
    backdrop-filter: blur(12px); /* Increase blur */
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--header-border); /* Use variable */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Add subtle shadow */
    transition: background-color var(--transition-speed-medium) var(--transition-timing-default),
                box-shadow var(--transition-speed-medium) var(--transition-timing-default);
}
/* Optional: Darker shadow when scrolled */
/* body.scrolled .site-header { box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15); } */

/* Header container */
.site-header .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
}

/* Site Title */
.site-title {
    font-family: var(--font-title);
    font-size: clamp(1.5rem, 3vw, 1.8rem);
    font-weight: 700;
    color: var(--text-headings); /* Use heading color */
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
    transition: color var(--transition-speed-fast) var(--transition-timing-default),
                text-shadow var(--transition-speed-fast) var(--transition-timing-default);
    margin-right: 1rem;
}

.site-title:hover,
.site-title:focus {
    color: var(--text-accent); /* Gold hover */
    text-shadow: 0 0 8px var(--text-accent); /* Gold glow */
    text-decoration: none;
}

/* Desktop Navigation */
#site-nav {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

#site-nav a {
    color: var(--header-text); /* Use variable */
    font-family: var(--font-body);
    font-size: 1rem;
    padding: 0.5rem 0.25rem;
    position: relative;
    border-bottom: 2px solid transparent;
    transition: color var(--transition-speed-fast) var(--transition-timing-default),
                border-color var(--transition-speed-fast) var(--transition-timing-default);
}

#site-nav a:hover,
#site-nav a:focus {
    color: var(--text-accent); /* Gold hover */
    border-bottom-color: var(--text-accent);
    text-decoration: none;
}
/* Add subtle text shadow on hover for depth */
#site-nav a:hover::after,
#site-nav a:focus::after {
     content: ''; /* Needed for pseudo-element */
     /* Add text-shadow or filter: drop-shadow effect here if desired */
}


/* Mobile Menu Toggle Button */
#mobile-menu-toggle {
    background: transparent;
    border: none;
    color: var(--header-text); /* Use variable */
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0.5rem;
    display: none; /* Hidden by default, shown via media query */
    transition: color var(--transition-speed-fast) var(--transition-timing-default);
}
#mobile-menu-toggle:hover, #mobile-menu-toggle:focus {
    color: var(--text-accent);
}

/* Mobile Navigation Drawer */
#mobile-nav {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    background-color: var(--header-bg); /* Use variable, slightly more opaque */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--header-border);
    max-height: calc(100vh - 60px); /* Adjust height based on header */
    overflow-y: auto;
    transition: transform var(--transition-speed-medium) var(--transition-timing-default),
                opacity var(--transition-speed-medium) var(--transition-timing-default);
    transform: translateY(-10px);
    opacity: 0;
    pointer-events: none;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1); /* Add shadow */
}

#mobile-nav.active {
    display: block;
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
}

.mobile-nav-content {
    display: flex;
    flex-direction: column;
    padding: 1rem var(--container-padding);
}

.mobile-nav-content a,
.mobile-nav-content button {
    color: var(--header-text); /* Use variable */
    text-decoration: none;
    padding: 0.8rem 0.5rem; /* Add horizontal padding */
    border-bottom: 1px solid var(--header-border); /* Use variable */
    font-family: var(--font-body);
    font-size: 1.1rem;
    text-align: left;
    background: none;
    border-left: none;
    border-right: none;
    border-top: none;
    width: 100%;
    cursor: pointer;
    transition: color var(--transition-speed-fast), background-color var(--transition-speed-fast);
}
.mobile-nav-content a:last-of-type, /* Use last-of-type */
.mobile-nav-content button:last-of-type {
    border-bottom: none;
}
.mobile-nav-content a:hover,
.mobile-nav-content a:focus,
.mobile-nav-content button:hover,
.mobile-nav-content button:focus {
    color: var(--text-accent);
    background-color: rgba(218, 165, 32, 0.08); /* Subtle gold hover background */
}

/* Specific Nav Buttons (Domus Toggle, Dark Mode) */
.domus-nav-toggle, #dark-mode-toggle {
    background-color: transparent;
    color: var(--header-text); /* Use variable */
    border: 1px solid var(--header-border); /* Use variable */
    padding: 0.4rem 0.8rem;
    border-radius: 4px;
    font-family: var(--font-modern);
    font-size: 0.9rem;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: background-color var(--transition-speed-fast) var(--transition-timing-default),
                color var(--transition-speed-fast) var(--transition-timing-default),
                border-color var(--transition-speed-fast) var(--transition-timing-default),
                box-shadow var(--transition-speed-fast) var(--transition-timing-default);
}
.domus-nav-toggle i, #dark-mode-toggle i {
    font-size: 1.1em;
    transition: transform var(--transition-speed-fast) ease-in-out;
}

.domus-nav-toggle:hover, .domus-nav-toggle:focus,
#dark-mode-toggle:hover, #dark-mode-toggle:focus {
    background-color: var(--text-accent); /* Use accent color for bg */
    color: var(--bg-primary); /* Use primary bg color for text */
    border-color: var(--text-accent);
    box-shadow: 0 0 10px 2px rgba(218, 165, 32, 0.3); /* Gold glow */
}
.domus-nav-toggle:hover i, .domus-nav-toggle:focus i,
#dark-mode-toggle:hover i, #dark-mode-toggle:focus i {
    transform: scale(1.1) rotate(-5deg); /* Slight icon animation */
}

/* =============================================
   5. FOOTER
   ============================================= */
footer {
    padding: 3rem var(--container-padding) 2rem;
    text-align: center;
    color: var(--text-secondary);
    font-size: 0.9rem;
    border-top: 1px solid var(--border-primary); /* Use variable */
    margin-top: 4rem;
    background-color: var(--bg-secondary); /* Use secondary background */
    transition: background-color var(--transition-speed-medium) var(--transition-timing-default);
}

footer p {
    margin-bottom: 0.5rem;
    line-height: 1.5;
}

footer a {
    color: var(--text-secondary);
    text-decoration: underline;
    transition: color var(--transition-speed-fast) var(--transition-timing-default);
}

footer a:hover,
footer a:focus {
    color: var(--text-accent); /* Use accent color */
}

/* =============================================
   6. GENERAL SECTION STYLING
   ============================================= */
section {
    padding: clamp(3rem, 8vw, 6rem) 0;
    position: relative;
    overflow: hidden;
}

/* Alternating background for sections */
.section-bg-alt {
    background-color: var(--bg-secondary); /* Use variable */
    /* Apply alternate texture if desired */
    /* background-image: var(--texture-bg-alt); */
    transition: background-color var(--transition-speed-medium) var(--transition-timing-default);
}

/* Section Content Container */
.section-content {
    position: relative;
    z-index: 2;
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
}

/* Section Title Styling */
.section-title {
    font-family: var(--font-title);
    font-size: clamp(2rem, 4vw, 3rem); /* Increased size */
    margin-bottom: 3.5rem; /* More space below title */
    color: var(--text-headings); /* Use variable */
    text-align: center;
    position: relative;
    text-transform: uppercase;
    letter-spacing: 1.5px; /* Increased spacing */
}

.section-title i {
    margin-right: 0.8rem;
    font-size: 0.85em;
    opacity: 0.9;
    color: var(--text-accent); /* Use accent color for icon */
}

/* Thematic underline/divider for section titles */
.section-title::after {
    content: "";
    position: absolute;
    bottom: -18px; /* Position further below */
    left: 50%;
    transform: translateX(-50%);
    width: 150px; /* Wider divider */
    height: 4px; /* Thicker */
    background: linear-gradient(90deg,
        transparent,
        var(--color-gold-dark) 20%,
        var(--color-gold-light) 50%,
        var(--color-gold-dark) 80%,
        transparent
    ); /* More defined gradient */
    border-radius: 2px;
    /* Add subtle animation? */
    /* animation: underline-wipe 1s ease-out forwards; */
    /* animation-delay: 0.5s; */ /* Delay if revealed */
    /* opacity: 0; */
}
/* @keyframes underline-wipe { from { width: 0; opacity: 0; } to { width: 150px; opacity: 1; } } */


/* =============================================
   7. PRELOADER & SCROLL PROGRESS
   ============================================= */

/* Preloader Styles */
#preloader {
    position: fixed;
    inset: 0;
    background-color: var(--color-near-black); /* Use near-black */
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 1;
    transition: opacity var(--transition-speed-slow) ease-out;
    pointer-events: auto;
}

#preloader[style*="opacity: 0"] {
    pointer-events: none;
}

/* Enhanced Spinner */
.spinner {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: 6px solid transparent;
    border-top-color: var(--color-gold-light);
    border-left-color: var(--color-gold-light); /* Add second border color */
    animation: spin 0.8s linear infinite; /* Faster spin */
    position: relative; /* For pseudo-element */
}
/* Add inner glow */
.spinner::after {
    content: '';
    position: absolute;
    inset: 6px; /* Inside the border */
    border-radius: 50%;
    box-shadow: inset 0 0 10px 3px var(--color-gold-dark);
    opacity: 0.6;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Scroll Progress Bar Styles */
.scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    height: 5px;
    width: 0%;
    background: linear-gradient(90deg, var(--color-gold-dark), var(--color-gold-light), var(--color-crimson-primary)); /* Add crimson */
    background-size: 200% 100%; /* For potential animation */
    z-index: 1001;
    transition: width 0.1s linear;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3), 0 0 5px var(--color-gold-light); /* Add glow */
    /* animation: progress-gradient 5s linear infinite; */ /* Optional gradient animation */
}
/* @keyframes progress-gradient { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } } */

/* === Roman Seal Preloader Styles === */
#roman-seal-preloader {
    position: fixed;
    inset: 0;
    background-color: var(--color-near-black);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
    opacity: 1;
    transition: opacity 0.6s ease-out 0.5s;
    pointer-events: auto;
    /* Initially visible */
    display: flex !important;
    opacity: 1 !important;
}

#roman-seal-preloader .seal-container {
    position: relative;
    width: clamp(150px, 30vw, 250px);
    height: clamp(150px, 30vw, 250px);
    filter: drop-shadow(0px 5px 15px rgba(0,0,0,0.5));
    animation: seal-appear 1s ease-out forwards;
    opacity: 0;
}

#roman-seal-preloader .seal-svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: visible;
}

#roman-seal-preloader .crack-overlay {
    opacity: 0;
    pointer-events: none;
    mix-blend-mode: overlay;
}

/* --- Animations --- */
@keyframes seal-appear {
    0% {
        opacity: 0;
        transform: scale(0.8) rotate(-15deg);
    }
    80% {
        transform: scale(1.05) rotate(5deg);
    }
    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }
}

@keyframes seal-crack-pop {
    0% { opacity: 0; transform: scale(0.9); }
    50% { opacity: 0.8; transform: scale(1.1); }
    100% { opacity: 0.6; transform: scale(1); }
}

@keyframes seal-shatter-fade {
    0% { opacity: 1; transform: scale(1) rotate(0deg); }
    100% { opacity: 0; transform: scale(0.7) rotate(20deg); }
}

/* --- Triggering Classes --- */
#roman-seal-preloader.cracking .crack-overlay {
    animation: seal-crack-pop 0.3s ease-out forwards;
}

#roman-seal-preloader.hiding {
    opacity: 0;
    pointer-events: none;
}

#roman-seal-preloader.hiding .seal-container {
    animation: seal-shatter-fade 0.5s ease-in forwards;
}

/* =============================================
   8. THEMATIC SCROLLBAR
   ============================================= */
/* Works in WebKit (Chrome, Safari, Edge) & Firefox */
/* Width */
::-webkit-scrollbar {
    width: 12px;
    height: 12px; /* For horizontal scrollbars if needed */
}
/* Track */
::-webkit-scrollbar-track {
    background: var(--bg-secondary); /* Use secondary background */
    border-radius: 10px;
}
/* Handle */
::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb); /* Use theme variable */
    border-radius: 10px;
    border: 2px solid var(--bg-secondary); /* Creates padding around thumb */
}
/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
    background: var(--color-gold-medium); /* Slightly lighter gold on hover */
}
/* Firefox */
* {
    scrollbar-width: thin; /* "auto" or "thin" */
    scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track); /* thumb track */
}

/* (End of Part 1) */
/* (Continuing from Part 1 - portfolio_css_v2_part1) */

/* =============================================
   9. HERO SECTION
   ============================================= */
   .hero-section {
    min-height: 100vh; /* Full viewport height */
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative; /* For pseudo-elements and absolute children */
    padding: 8rem var(--container-padding) 4rem; /* Adjust padding */
    color: var(--hero-text); /* Use specific hero text color variable */
    background-color: var(--color-near-black); /* Dark fallback */
    /* TODO: Replace with actual hero background image */
    /* Apply overlay via pseudo-element for better control */
    background-image: url('../assets/images/hero-background-roman.jpg');
    background-size: cover;
    background-position: center center;
    background-attachment: fixed; /* Parallax-like effect */
    overflow: hidden;
}

/* Overlay using pseudo-element */
.hero-section::before {
    content: "";
    position: absolute;
    inset: 0;
    background: var(--hero-overlay); /* Use overlay variable */
    z-index: 1; /* Place overlay above background, below content */
    pointer-events: none;
}

/* Content alignment within Hero */
.hero-section .section-content { /* Using section-content for consistency */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem; /* Space between mosaic and text content */
    position: relative;
    z-index: 2; /* Above pseudo-elements */
    width: 100%;
}

/* Layout for mosaic and text on larger screens */
@media (min-width: 992px) {
    .hero-section .section-content {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }
    .hero-mosaic {
        width: 45%; /* Adjust width as needed */
        order: 1; /* Mosaic on the left */
    }
    .hero-content {
        width: 50%; /* Adjust width as needed */
        order: 2; /* Text content on the right */
        text-align: left; /* Align text left */
    }
    .hero-buttons, .social-links {
        justify-content: flex-start; /* Align buttons/links left */
    }
    .imperial-scroll-indicator {
        left: auto;
        right: 50%; /* Center relative to the text content */
        transform: translateX(50%);
    }
}

/* Hero Text Content Styling */
.hero-content {
    text-align: center; /* Default center alignment */
    max-width: 650px; /* Limit width for readability */
}

.hero-title {
    color: var(--hero-text); /* Use variable */
    /* Apply multi-layer shadow for chiselled effect */
    text-shadow: 1px 1px 0px rgba(0,0,0,0.5), /* Dark edge */
                 2px 2px 0px rgba(0,0,0,0.4), /* Slightly offset */
                 0 0 15px rgba(255, 255, 255, 0.1); /* Subtle outer glow */
    margin-bottom: 0.5rem;
}
/* Dark mode specific shadow */
.dark-mode .hero-title {
     text-shadow: 1px 1px 0px rgba(0,0,0,0.7),
                  2px 2px 0px rgba(0,0,0,0.5),
                  0 0 20px rgba(218, 165, 32, 0.2); /* Gold glow */
}

.hero-subtitle {
    font-family: var(--font-subtitle);
    font-size: clamp(1.3rem, 3vw, 1.75rem);
    margin-bottom: 1.5rem;
    color: var(--text-accent); /* Use accent color (gold) */
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
    font-weight: 400;
}

.typed-text {
    display: inline-block;
    min-height: 1.5em;
    font-size: 1.25rem;
    color: var(--hero-text);
    opacity: 0.9; /* Slightly less prominent than titles */
    margin-bottom: 2rem;
    font-family: var(--font-body);
}
/* Typed.js cursor style */
.typed-cursor {
    opacity: 1;
    animation: typed-blink 0.7s infinite;
    color: var(--text-accent); /* Gold cursor */
}
@keyframes typed-blink {
    0% { opacity: 1; }
    50% { opacity: 0; }
    100% { opacity: 1; }
}

/* Hero Buttons Container */
.hero-buttons {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

/* Social Links Container */
.social-links {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2.5rem;
}

.social-link-animated {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--hero-text);
    font-size: 1.3rem;
    border: 1px solid rgba(218, 165, 32, 0.4);
    transition: all var(--transition-speed-medium) var(--transition-timing-default);
    transform: translateZ(0);
    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
}
/* Hover effect defined in Part 3 */

/* Scroll Down Indicator */
.imperial-scroll-indicator {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
}

.scroll-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    color: var(--hero-text);
    opacity: 0.8;
    text-decoration: none;
    animation: bounce 2.8s infinite ease-in-out; /* Slightly slower, more elastic bounce */
}

.scroll-indicator span {
    margin-bottom: 8px;
    font-size: 0.85rem;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.scroll-indicator i {
    font-size: 1.2rem;
    /* Add subtle pulse */
    animation: pulse-glow 2.8s infinite ease-in-out;
    animation-delay: 0.2s; /* Offset from bounce */
}

@keyframes bounce { /* More elastic bounce */
  0%, 20%, 65%, 100% { transform: translateY(0); animation-timing-function: ease-out; }
  40% { transform: translateY(-15px); animation-timing-function: ease-in; }
  50% { transform: translateY(-10px); animation-timing-function: ease-out; }
}
@keyframes pulse-glow {
    0%, 100% { opacity: 0.7; text-shadow: none; }
    50% { opacity: 1; text-shadow: 0 0 8px var(--color-gold-light); }
}
/* Hero Mosaic Grid */
.hero-mosaic {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.25rem;
    perspective: 2000px; /* Increased perspective for more dramatic 3D */
    max-width: 500px;
    width: 100%;
    transform-style: preserve-3d; /* Allow children to render in 3D */
}

/* Roman Mosaic Tile - Gilded Panel Style */
.mosaic-tile {
    position: relative;
    background: linear-gradient(145deg, rgba(40, 35, 30, 0.9), rgba(25, 22, 20, 0.95));
    border-radius: 8px;
    padding: 1.5rem 1rem;
    text-decoration: none;
    color: var(--hero-text);
    text-align: center;
    overflow: hidden;
    transform-style: preserve-3d;
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), /* Bouncy transition */
                box-shadow 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275),
                border-color 0.3s ease,
                background-color 0.3s ease;
    
    /* Multi-layered gold border with embossing effect */
    border: none;
    box-shadow: 
        0 8px 20px rgba(0,0,0,0.5),
        inset 0 0 0 1px rgba(255, 215, 0, 0.4),
        inset 0 0 0 3px rgba(139, 69, 19, 0.3),
        inset 0 0 6px 2px rgba(0, 0, 0, 0.4);
    
    /* Roman marble texture background */
    background-image: 
        /* Fine marble veins */
        linear-gradient(135deg, 
            rgba(255, 255, 255, 0.03) 25%, 
            transparent 25%,
            transparent 50%, 
            rgba(255, 255, 255, 0.03) 50%, 
            rgba(255, 255, 255, 0.03) 75%,
            transparent 75%),
        /* Gold border pattern */
        repeating-linear-gradient(45deg, rgba(218, 165, 32, 0.15) 0, rgba(218, 165, 32, 0.15) 2px, transparent 0, transparent 4px),
        repeating-linear-gradient(-45deg, rgba(218, 165, 32, 0.15) 0, rgba(218, 165, 32, 0.15) 2px, transparent 0, transparent 4px);
    
    background-size: 100px 100px, 10px 10px, 10px 10px;
    background-blend-mode: overlay, overlay, overlay;
    cursor: pointer;
    
    /* 3D positioning baseline */
    transform: translateZ(10px);
}

/* Gilded ornate border decoration */
.mosaic-tile::before {
    content: '';
    position: absolute;
    inset: 4px;
    border: 2px solid transparent;
    border-image: linear-gradient(
        to bottom,
        rgba(218, 165, 32, 0.8) 0%,
        rgba(184, 134, 11, 0.9) 25%,
        rgba(218, 165, 32, 0.9) 50%,
        rgba(184, 134, 11, 0.9) 75%,
        rgba(218, 165, 32, 0.8) 100%
    ) 1;
    border-radius: 4px;
    pointer-events: none;
    z-index: 1;
    
    /* Ornate corner laurel decorations */
    background-image: 
        /* Top-left corner laurel */
        radial-gradient(circle at 6px 6px, transparent 4px, rgba(218, 165, 32, 0.25) 5px, transparent 10px),
        radial-gradient(circle at 12px 12px, transparent 8px, rgba(218, 165, 32, 0.3) 9px, transparent 14px),
        /* Top-right corner laurel */
        radial-gradient(circle at calc(100% - 6px) 6px, transparent 4px, rgba(218, 165, 32, 0.25) 5px, transparent 10px),
        radial-gradient(circle at calc(100% - 12px) 12px, transparent 8px, rgba(218, 165, 32, 0.3) 9px, transparent 14px),
        /* Bottom-left corner laurel */
        radial-gradient(circle at 6px calc(100% - 6px), transparent 4px, rgba(218, 165, 32, 0.25) 5px, transparent 10px),
        radial-gradient(circle at 12px calc(100% - 12px), transparent 8px, rgba(218, 165, 32, 0.3) 9px, transparent 14px),
        /* Bottom-right corner laurel */
        radial-gradient(circle at calc(100% - 6px) calc(100% - 6px), transparent 4px, rgba(218, 165, 32, 0.25) 5px, transparent 10px),
        radial-gradient(circle at calc(100% - 12px) calc(100% - 12px), transparent 8px, rgba(218, 165, 32, 0.3) 9px, transparent 14px);
    
    background-size: 100% 100%;
    background-repeat: no-repeat;
    transition: opacity 0.4s ease, transform 0.4s ease;
    box-shadow: inset 0 0 10px rgba(218, 165, 32, 0.15);
    transform: translateZ(5px);
}

/* Light reflection/gleam effect */
.mosaic-tile::after {
    content: '';
    position: absolute;
    top: -100%;
    left: -100%;
    width: 120%;
    height: 120%;
    background: linear-gradient(
        45deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0) 45%, 
        rgba(255, 255, 255, 0.3) 50%, 
        rgba(255, 255, 255, 0) 55%, 
        transparent 100%
    );
    transform: rotate(45deg) translateZ(15px);
    transition: top 0.6s ease-out, left 0.6s ease-out, opacity 0.6s ease-out;
    opacity: 0;
    z-index: 2;
    pointer-events: none;
}

/* Numeral styling (for Roman numerals) */
.mosaic-numeral {
    font-family: var(--font-title);
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    font-weight: 700;
    color: var(--color-gold-light);
    margin-bottom: 0.5rem;
    position: relative;
    z-index: 2;
    text-shadow: 
        0 1px 1px rgba(0, 0, 0, 0.6),
        0 2px 4px rgba(0, 0, 0, 0.4);
    background-image: linear-gradient(
        to bottom,
        rgba(255, 215, 0, 0.9) 0%,
        rgba(218, 165, 32, 0.85) 50%,
        rgba(184, 134, 11, 0.8) 100%
    );
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    /* Add subtle marble background behind numeral */
    transform: translateZ(15px);
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), text-shadow 0.4s ease;
}

/* Title styling */
.mosaic-tile h4 {
    font-family: var(--font-subtitle);
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.9);
    margin: 0;
    font-weight: 500;
    opacity: 0.9;
    position: relative;
    z-index: 2;
    transform: translateZ(15px);
    transition: opacity 0.3s ease, color 0.3s ease, transform 0.4s ease;
}

/* ====== Hover/Focus Effects ====== */

/* Tile hover effect */
.mosaic-tile:hover,
.mosaic-tile:focus-visible {
    transform: translateZ(40px) rotateX(12deg) rotateY(-8deg); /* More dramatic tilt */
    box-shadow: 
        0 25px 45px rgba(0, 0, 0, 0.7),
        0 5px 25px rgba(218, 165, 32, 0.2), /* Top glow */
        0 -15px 15px rgba(139, 69, 19, 0.2), /* Bottom/underside shadow */
        inset 0 0 0 1px rgba(255, 215, 0, 0.6),
        inset 0 0 0 3px rgba(139, 69, 19, 0.4),
        inset 0 0 20px rgba(218, 165, 32, 0.3); /* Inner glow */
    background-image: 
        linear-gradient(145deg, rgba(50, 45, 40, 0.9), rgba(35, 32, 30, 0.95)),
        }
    


/* Parallax Pillars (Static Background Elements) */
.parallax-pillar {
    position: absolute;
    top: 0;
    width: 15%;
    height: 100%;
    /* TODO: Add subtle stone texture */
    /* background-image: url('../assets/images/textures/pillar-texture.png'), linear-gradient(...) */
    background: linear-gradient(to right,
        rgba(218, 165, 32, 0) 0%,
        rgba(218, 165, 32, 0.08) 50%, /* Slightly stronger gradient */
        rgba(218, 165, 32, 0) 100%
    );
    pointer-events: none;
    z-index: 1;
    opacity: 0.6;
    /* Add subtle animation */
    /* animation: pillar-shimmer 10s linear infinite alternate; */
}
/* @keyframes pillar-shimmer { from { opacity: 0.5; } to { opacity: 0.7; } } */

.parallax-pillar.left { left: 0; }
.parallax-pillar.right { right: 0; }


/* =============================================
   10. CARD STYLING (Experience, Projects, etc.)
   ============================================= */

/* Base Card Style */
.card {
    background-color: var(--bg-card);
    border-radius: 8px;
    padding: 2rem; /* Increased padding */
    margin-bottom: 0; /* Handled by grid gap */
    position: relative;
    border: 1px solid var(--border-primary);
    box-shadow: 0 6px 15px var(--shadow-primary); /* Enhanced shadow */
    overflow: hidden;
    transition: transform var(--transition-speed-medium) var(--transition-timing-default),
                box-shadow var(--transition-speed-medium) var(--transition-timing-default),
                border-color var(--transition-speed-medium) var(--transition-timing-default);
    height: 100%;
    display: flex;
    flex-direction: column;
    transform-style: preserve-3d; /* For 3D hover */
}
/* Hover effect defined in Part 3 */

/* Grid container for cards */
.card-grid-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    perspective: 1500px; /* Add perspective for card 3D effects */
}

/* Card Content Styling */
.card h3 { /* Job Title / Project Title */
    font-size: 1.5rem; /* Slightly larger */
    margin-bottom: 0.3rem;
    color: var(--text-headings); /* Use heading color */
    display: flex; /* Align icon and text if icon added */
    align-items: center;
    gap: 0.5rem;
}
.card h3 i { /* Icon next to title */
    font-size: 0.9em;
    color: var(--text-accent);
    opacity: 0.7;
}

.card h4 { /* Company / Subtitle */
    font-size: 1.1rem;
    margin-bottom: 0.6rem;
    color: var(--text-primary);
    font-family: var(--font-subtitle);
    font-style: italic;
    font-weight: 600;
}

.card .date-location { /* Dates and Location */
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 1.2rem;
    display: block;
    font-family: var(--font-body);
}

.card ul {
    padding-left: 1.2rem;
    margin-bottom: 1.25rem;
    flex-grow: 1;
}

.card ul li {
    margin-bottom: 0.6rem; /* More space between bullets */
    color: var(--text-primary);
    line-height: 1.6;
}
.card ul li::marker {
    color: var(--text-secondary); /* Subdued marker color */
}

/* Project Tech Tags */
.project-tech {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem; /* Slightly more gap */
    margin: 1rem 0;
}

.project-tech span {
    font-size: 0.85rem; /* Slightly larger */
    background-color: rgba(218, 165, 32, 0.08); /* Use variable? */
    border: 1px solid var(--border-primary);
    color: var(--text-secondary);
    padding: 0.35rem 0.8rem; /* Adjust padding */
    border-radius: 50px;
    font-family: var(--font-modern);
    font-weight: 500;
    transition: all var(--transition-speed-fast) var(--transition-timing-default);
}
/* Hover effect defined in Part 3 */

/* Corner Flourishes (Decorative SVGs) */
.corner-flourish {
    position: absolute;
    width: 28px; /* Adjust size */
    height: 28px;
    z-index: 1;
    opacity: 0.5;
    pointer-events: none;
    transition: transform var(--transition-speed-medium) var(--transition-timing-default),
                opacity var(--transition-speed-medium) var(--transition-timing-default);
}
.corner-flourish path {
    stroke: var(--text-accent); /* Use accent color */
    stroke-width: 1.5;
}
.dark-mode .corner-flourish path {
    stroke-opacity: 0.7;
    stroke: var(--color-gold-light); /* Gold color */
    fill: var(--color-gold-light); /* Gold color */
    fill-opacity: 0.2;
    filter: drop-shadow(0 0 5px var(--color-gold-light));
    /* Add glow effect */
    /* animation: corner-glow 1.5s ease-in-out infinite alternate; */
    /* animation-delay: 0.5s; */
}
.top-left { top: 12px; left: 12px; }
.top-right { top: 12px; right: 12px; }
.bottom-left { bottom: 12px; left: 12px; }
.bottom-right { bottom: 12px; right: 12px; }
/* Animation on hover defined in Part 3 */

/* Certification Card Specifics */
.cert-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    position: relative;
    /* Enhanced Roman mosaic background pattern */
    background-image: 
        linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
        repeating-linear-gradient(45deg, rgba(218, 165, 32, 0.03) 0px, rgba(218, 165, 32, 0.03) 2px, transparent 2px, transparent 6px),
        repeating-linear-gradient(-45deg, rgba(218, 165, 32, 0.03) 0px, rgba(218, 165, 32, 0.03) 2px, transparent 2px, transparent 6px);
    background-size: 20px 20px, 20px 20px, 30px 30px, 30px 30px;
    background-position: center center;
    padding: 2rem;
    border-radius: 10px;
    box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(218, 165, 32, 0.08);
    /* Add decorative corner elements */
    position: relative;
    overflow: hidden;
}

/* Decorative corner flourishes for certification grid */
.cert-grid::before,
.cert-grid::after {
    content: "✦";
    font-size: 24px;
    color: var(--color-gold-light);
    opacity: 0.2;
    position: absolute;
    line-height: 1;
}

.cert-grid::before {
    top: 10px;
    left: 10px;
}

.cert-grid::after {
    bottom: 10px;
    right: 10px;
    transform: rotate(180deg);
}

.dark-mode .cert-grid {
    background-image: 
        linear-gradient(rgba(218, 165, 32, 0.04) 1px, transparent 1px),
        linear-gradient(90deg, rgba(218, 165, 32, 0.04) 1px, transparent 1px),
        repeating-linear-gradient(45deg, rgba(218, 165, 32, 0.06) 0px, rgba(218, 165, 32, 0.06) 2px, transparent 2px, transparent 6px),
        repeating-linear-gradient(-45deg, rgba(218, 165, 32, 0.06) 0px, rgba(218, 165, 32, 0.06) 2px, transparent 2px, transparent 6px);
    border-color: rgba(218, 165, 32, 0.15);
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.2), 0 0 15px rgba(0, 0, 0, 0.1);
}

.cert-card {
    background-color: var(--bg-card);
    border: 1px solid var(--border-primary);
    border-radius: 8px;
    padding: 2rem 1rem 1.5rem;
    text-align: center;
    transition: transform var(--transition-speed-medium) var(--transition-timing-bounce),
                box-shadow var(--transition-speed-medium) var(--transition-timing-default),
                border-color var(--transition-speed-medium) var(--transition-timing-default);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 200px; /* Increased height */
    box-shadow: 0 6px 15px var(--shadow-primary);
    position: relative;
    overflow: hidden;
    transform-style: preserve-3d;
    
    /* Add ornate gilded border decoration */
    background-image: 
        linear-gradient(to bottom, rgba(218, 165, 32, 0.05), transparent 50%, rgba(218, 165, 32, 0.05));
    background-size: 100% 100%;
    background-position: center;
}

/* Add ornate gilded frame to certification cards */
.cert-card::before {
    content: '';
    position: absolute;
    inset: 10px;
    border: 1px solid rgba(218, 165, 32, 0.2);
    border-radius: 4px;
    pointer-events: none;
    background: linear-gradient(135deg, 
                rgba(218, 165, 32, 0.1) 25%, transparent 25%,
                transparent 50%, rgba(218, 165, 32, 0.1) 50%,
                rgba(218, 165, 32, 0.1) 75%, transparent 75%);
    background-size: 10px 10px;
    background-blend-mode: overlay;
    opacity: 0.3;
    transition: opacity 0.4s ease, transform 0.4s ease;
    transform: translateZ(5px);
}

/* Corner decorations for certificates */
.cert-card::after {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
        /* Top-left corner decoration */
        radial-gradient(circle at 10px 10px, 
            transparent 5px, 
            rgba(218, 165, 32, 0.2) 6px, 
            transparent 12px),
        /* Top-right corner decoration */
        radial-gradient(circle at calc(100% - 10px) 10px, 
            transparent 5px, 
            rgba(218, 165, 32, 0.2) 6px, 
            transparent 12px),
        /* Bottom-left corner decoration */
        radial-gradient(circle at 10px calc(100% - 10px), 
            transparent 5px, 
            rgba(218, 165, 32, 0.2) 6px, 
            transparent 12px),
        /* Bottom-right corner decoration */
        radial-gradient(circle at calc(100% - 10px) calc(100% - 10px), 
            transparent 5px, 
            rgba(218, 165, 32, 0.2) 6px, 
            transparent 12px);
    background-repeat: no-repeat;
    background-size: 20px 20px, 20px 20px, 20px 20px, 20px 20px;
    background-position: top left, top right, bottom left, bottom right;
    pointer-events: none;
    opacity: 0.8;
    transform: translateZ(5px);
}

/* Enhanced hover effects for certification cards */
.cert-card:hover,
*:focus-visible > .cert-card {
    transform: translateY(-15px) scale(1.05) rotateX(5deg);
    box-shadow: 0 15px 30px var(--shadow-primary), 
                0 0 20px rgba(218, 165, 32, 0.2);
    border-color: var(--color-gold-medium);
    z-index: 2;
}

.cert-card:hover::before,
*:focus-visible > .cert-card::before {
    opacity: 0.6;
    transform: translateZ(10px) scale(0.96);
}

/* Hover state for specific parts */
.cert-card i {
    font-size: 2.5rem;
    color: var(--color-gold-dark);
    margin-bottom: 1rem;
    transition: transform 0.3s var(--transition-timing-bounce), 
                color 0.3s ease;
}

.cert-card h4 {
    font-family: var(--font-subtitle);
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    position: relative;
    z-index: 2;
    transition: transform 0.3s ease, color 0.3s ease;
}

.cert-card .cert-date {
    font-size: 0.85rem;
    color: var(--text-secondary);
    display: block;
    position: relative;
    padding-top: 0.5rem;
    transition: color 0.3s ease;
}

/* Add decorative separator between title and date */
.cert-card .cert-date::before {
    content: "";
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 2px;
    background: linear-gradient(90deg, 
        transparent, 
        var(--color-gold-dark), 
        transparent);
    opacity: 0.4;
}

/* Add shimmer effect for certification cards */
.cert-card .shimmer {
    position: absolute;
    top: -100%;
    left: -100%;
    width: 50%;
    height: 50%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transform: rotate(30deg);
    animation: cert-shimmer 5s infinite;
    opacity: 0;
    pointer-events: none;
    z-index: 3;
}

.cert-card:hover .shimmer {
    opacity: 1;
}

@keyframes cert-shimmer {
    0% {
        top: -100%;
        left: -100%;
    }
    100% {
        top: 100%;
        left: 100%;
    }
}

/* Dark mode enhancements */
.dark-mode .cert-card {
    background-image: 
        linear-gradient(to bottom, rgba(218, 165, 32, 0.1), transparent 50%, rgba(218, 165, 32, 0.1));
    box-shadow: 0 8px 20px var(--shadow-primary),
                inset 0 0 20px rgba(0, 0, 0, 0.5);
}

.dark-mode .cert-card:hover,
.dark-mode *:focus-visible > .cert-card {
    box-shadow: 0 15px 30px var(--shadow-primary),
                0 0 25px rgba(218, 165, 32, 0.3),
                inset 0 0 15px rgba(0, 0, 0, 0.8);
    border-color: var(--color-gold-light);
}

.dark-mode .cert-card i {
    text-shadow: 0 0 10px rgba(218, 165, 32, 0.4);
}

/* =============================================
   11. BUTTON STYLING
   ============================================= */

/* Base Button Styles */
.button-primary,
.button-secondary-outline,
.view-project-btn,
#reset-filter-btn,
#wisdom-next /* Added wisdom button */ {
    display: inline-block;
    padding: 0.8rem 2rem; /* Adjusted padding */
    border-radius: 5px; /* Slightly more rounded */
    font-family: var(--font-modern);
    font-weight: 600;
    font-size: 0.95rem;
    letter-spacing: 0.8px; /* Increased spacing */
    text-align: center;
    text-transform: uppercase;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all var(--transition-speed-medium) var(--transition-timing-default);
    transform: translateZ(0);
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); /* Base shadow */
    position: relative; /* For pseudo-elements */
    overflow: hidden; /* For shimmer effect */
}
/* Hover/Focus effects defined in Part 3 */

/* Primary Button (Crimson) */
.button-primary {
    background-color: var(--button-primary-bg);
    color: var(--button-primary-text);
    border-color: var(--button-primary-border);
}

/* Secondary Outline Button (Gold Outline) */
.button-secondary-outline {
    background-color: var(--button-secondary-bg);
    color: var(--button-secondary-text);
    border-color: var(--button-secondary-border);
}

/* Project View Details Button */
.view-project-btn {
    margin-top: auto; /* Push to bottom of card */
    align-self: flex-start;
    padding: 0.6rem 1.2rem; /* Adjusted padding */
    font-size: 0.85rem;
    font-weight: 500;
    /* Inherits secondary outline style by default */
}

/* Reset Filter Button */
#reset-filter-btn {
    /* Inherits secondary outline style, initially hidden by JS */
    margin-top: 1rem;
}

/* Wisdom Next Button */
#wisdom-next {
    background: var(--color-gold-light);
    border: 1px solid var(--color-gold-dark);
    color: #333;
    padding: 0.4rem 0.9rem; /* Adjusted padding */
    font-size: 0.8rem;
    border-radius: 4px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    text-transform: none; /* No uppercase */
    letter-spacing: normal;
}

/* =============================================
   12. FORM STYLING (Contact Section)
   ============================================= */
#contact-form {
    max-width: 700px;
    margin: 2rem auto 0;
}

.form-group {
    margin-bottom: 1.75rem; /* More space */
    position: relative; /* For potential icon positioning */
}

label {
    display: block;
    margin-bottom: 0.6rem;
    color: var(--text-primary);
    font-family: var(--font-body);
    font-weight: 600;
    font-size: 0.95rem; /* Slightly larger */
}

input[type="text"],
input[type="email"],
textarea {
    width: 100%;
    padding: 0.9rem 1.1rem; /* Increased padding */
    border: 1px solid var(--border-primary);
    border-radius: 5px;
    background-color: var(--bg-card); /* Use card background */
    color: var(--text-primary);
    font-family: var(--font-body);
    font-size: 1rem;
    transition: border-color var(--transition-speed-fast) var(--transition-timing-default),
                box-shadow var(--transition-speed-fast) var(--transition-timing-default);
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1); /* Subtle inset shadow */
}
.dark-mode input[type="text"],
.dark-mode input[type="email"],
.dark-mode textarea {
    background-color: rgba(0, 0, 0, 0.2); /* Darker input background */
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.3);
}

textarea {
    resize: vertical;
    min-height: 130px;
}

/* Focus styles for inputs */
input[type="text"]:focus,
input[type="email"]:focus,
textarea:focus {
    outline: none;
    border-color: var(--text-accent);
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1), /* Keep inset shadow */
                0 0 0 4px rgba(218, 165, 32, 0.25); /* Gold glow - increased spread */
}
.dark-mode input[type="text"]:focus,
.dark-mode input[type="email"]:focus,
.dark-mode textarea:focus {
     box-shadow: inset 0 1px 3px rgba(0,0,0,0.3),
                 0 0 0 4px rgba(218, 165, 32, 0.3);
}

/* Form Status Message Styling */
.form-status {
    padding: 0.8rem 1rem;
    margin-top: 1rem;
    border-radius: 4px;
    font-size: 0.9rem;
    font-weight: 500;
    display: none; /* Hidden by default */
    border: 1px solid transparent;
    text-align: center;
}
.form-status--success {
    background-color: rgba(40, 167, 69, 0.1); /* Light green */
    color: #155724; /* Dark green */
    border-color: rgba(40, 167, 69, 0.3);
}
.form-status--error {
    background-color: rgba(220, 53, 69, 0.1); /* Light red */
    color: #721c24; /* Dark red */
    border-color: rgba(220, 53, 69, 0.3);
}
.dark-mode .form-status--success {
    background-color: rgba(40, 167, 69, 0.2);
    color: #c3e6cb; /* Lighter green */
    border-color: rgba(40, 167, 69, 0.5);
}
.dark-mode .form-status--error {
    background-color: rgba(220, 53, 69, 0.2);
    color: #f5c6cb; /* Lighter red */
    border-color: rgba(220, 53, 69, 0.5);
}


/* Style submit button within form */
#contact-form .button-primary {
    width: 100%;
    margin-top: 1rem;
    padding: 0.9rem 2rem; /* Match input padding */
}
@media (min-width: 576px) {
    #contact-form .button-primary {
        width: auto;
    }
}

/* (End of Part 2) */
/* (Continuing from Part 2 - portfolio_css_v2_part2) */

/* =============================================
   13. SKILLS SECTION STYLING
   ============================================= */
/* =============================================
    13. SKILLS SECTION STYLING
    ============================================= */
    /* Container for all skill categories */
    .skills-categories-container {
        margin-top: 3rem; /* Increased space below section title */
        position: relative;
    }

    /* Styling for each category block */
    .skill-category {
        margin-bottom: 3rem; /* More space between categories */
        position: relative;
        /* Add subtle background distinction */
        padding: 1.5rem;
        border-radius: 8px;
        background-color: rgba(0, 0, 0, 0.02);
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
        transition: background-color var(--transition-speed-medium) var(--transition-timing-default);
    }
    .dark-mode .skill-category {
        background-color: rgba(255, 255, 255, 0.03);
        box-shadow: inset 0 1px 5px rgba(0, 0, 0, 0.2);
    }

    /* Enhanced Category Title Styling */
    .skill-category-title {
        font-family: var(--font-title);
        font-size: 1.5rem;
        color: var(--text-headings); /* Use heading color */
        margin-bottom: 1.8rem;
        padding-bottom: 0.6rem;
        border-bottom: 2px solid var(--border-primary);
        position: relative;
        display: inline-block; /* Allow border to fit content */
        letter-spacing: 0.5px;
        text-transform: uppercase;
        /* Add subtle shadow for depth */
        text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);
    }

    /* Enhanced decorative element for category title */
    .skill-category-title::before {
        content: '';
        position: absolute;
        left: -2rem; /* Position further to the left */
        top: 50%;
        transform: translateY(-50%);
        width: 10px;
        height: 10px;
        background-color: var(--text-accent);
        border-radius: 50%;
        opacity: 0.7;
        box-shadow: 0 0 8px rgba(218, 165, 32, 0.4); /* Add glow */
        animation: pulse-subtle 3s infinite alternate ease-in-out;
    }

    @keyframes pulse-subtle {
        from { transform: translateY(-50%) scale(0.9); opacity: 0.6; }
        to { transform: translateY(-50%) scale(1.1); opacity: 0.8; }
    }

    /* Add Roman column decoration to the right of title */
    .skill-category-title::after {
        content: '';
        position: absolute;
        right: -30px;
        top: 50%;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        opacity: 0.6;
        background-image: 
            repeating-linear-gradient(
                 0deg, 
                 var(--text-accent) 10%, 
                 transparent 10%,
                 transparent 20%
            );
        border-radius: 2px;
    }

    /* Grid for skill tags within a category */
    .skills-grid {
        display: flex; /* Use flexbox for wrapping */
        flex-wrap: wrap;
        gap: 1.2rem; /* Increased space between tags */
        justify-content: flex-start; /* Align tags to the start */
        perspective: 1200px; /* Increased perspective for more dramatic 3D */
    }

    /* Base Skill Tag Styling */
    .skill-tag {
        background-color: transparent; /* Inner faces provide background */
        border: none; /* Border applied to faces if needed */
        color: var(--text-primary);
        padding: 0; /* Padding applied to inner faces */
        border-radius: 6px; /* Roman tile shape */
        cursor: pointer;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), /* Bounce effect */
                     box-shadow 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        min-width: 130px; /* Slightly wider for better text fit */
        text-align: center;
        outline: none;
        box-shadow: 0 4px 12px var(--shadow-primary); /* Enhanced shadow */
        perspective: 1000px;
        /* Add subtle texture background */
        background-image: 
            radial-gradient(circle at center, transparent 50%, rgba(0, 0, 0, 0.03) 100%);
        will-change: transform; /* Performance optimization */
    }

    /* Inner container for 3D faces */
    .coin-face-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
        transition: transform 0.6s cubic-bezier(0.455, 0.03, 0.515, 0.955); /* Smoother easing */
        border-radius: inherit; /* Inherit rounding */
    }

    /* Shared styles for front and back faces */
    .coin-face {
        position: absolute;
        inset: 0;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.7rem 1.4rem; /* Slightly more padding */
        border-radius: inherit; /* Inherit rounding */
        font-size: 0.95rem;
        font-family: var(--font-modern);
        font-weight: 500;
        border: 1px solid var(--border-primary); /* Base border */
        /* Add marble texture */
        background-image: 
            linear-gradient(135deg, rgba(255, 255, 255, 0.03) 25%, transparent 25%,
            transparent 50%, rgba(255, 255, 255, 0.03) 50%, rgba(255, 255, 255, 0.03) 75%,
            transparent 75%);
        background-size: 100px 100px;
        background-blend-mode: overlay;
    }

    /* Front face (Skill Name & Icon) */
    .coin-front {
        background-color: var(--bg-card); /* Use card background */
        color: var(--text-primary);
        z-index: 2;
        transform: rotateY(0deg);
        /* Align icon and text */
        gap: 0.5rem;
        /* Add subtle embossed effect */
        box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.3), 
                     inset 0 -1px 1px rgba(0, 0, 0, 0.1);
    }

    .coin-front i {
        font-size: 1.2em; /* Slightly larger icon */
        color: var(--text-accent); /* Use accent color for icons */
        opacity: 0.8;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }

    /* Back face (Proficiency Level) */
    .coin-back {
        background: linear-gradient(
            145deg,
            var(--color-gold-light) 0%,
            var(--color-gold-medium) 50%,
            var(--color-gold-dark) 100%
        ); /* Gradient background */
        color: var(--bg-primary); /* Use primary bg color for text contrast */
        border-color: var(--color-gold-dark); /* Darker gold border */
        transform: rotateY(180deg);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.8px; /* Increased spacing */
        /* Add embossed effect */
        box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.5), 
                     inset 0 -1px 2px rgba(0, 0, 0, 0.2);
        /* Add subtle texture */
        background-image: 
            repeating-linear-gradient(45deg, rgba(0, 0, 0, 0.05) 0, rgba(0, 0, 0, 0.05) 2px, transparent 0, transparent 4px);
        background-blend-mode: overlay;
    }

    .dark-mode .coin-back {
        color: var(--color-dark-gray); /* Ensure contrast in dark mode */
        text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3); /* Add subtle shadow for readability */
    }

    /* Hover effects for skill tag */
    .skill-tag:hover .coin-front i {
        transform: scale(1.2) rotate(-5deg); /* Animate icon on hover */
        opacity: 1;
    }

    /* Active filter state for skill tag */
    .skill-tag.active-filter {
        box-shadow: 0 0 20px 4px var(--color-crimson-primary); /* Enhanced crimson glow */
        transform: translateZ(5px); /* Slight lift */
        z-index: 5; /* Ensure active tags are above others */
    }

    .skill-tag.active-filter .coin-front {
        border-color: var(--color-crimson-primary);
        border-width: 2px;
        background-color: rgba(128, 0, 0, 0.05); /* Very subtle background change */
    }

    /* Add shine effect for active filter */
    .skill-tag.active-filter::after {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.2),
            transparent
        );
        transform: rotate(45deg);
        animation: tag-gleam 2s infinite;
        z-index: 10;
        pointer-events: none;
    }

    @keyframes tag-gleam {
        0% {
            transform: translate(-50%, -50%) rotate(45deg);
        }
        100% {
            transform: translate(50%, 50%) rotate(45deg);
        }
    }

    /* Enhanced Skill Legend Styling */
    .skill-legend {
        text-align: center;
        margin-top: 3.5rem; /* More space above legend */
        padding: 1.5rem;
        border-top: 1px dashed var(--border-primary); /* Dashed divider */
        background-color: rgba(0, 0, 0, 0.02); /* Subtle background */
        border-radius: 8px;
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .dark-mode .skill-legend {
        background-color: rgba(255, 255, 255, 0.03);
        box-shadow: inset 0 1px 5px rgba(0, 0, 0, 0.2);
    }

    .skill-legend h4 {
        font-family: var(--font-title);
        color: var(--text-secondary);
        margin-bottom: 1.2rem;
        font-size: 1.2rem;
        font-style: normal;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        position: relative;
        display: inline-block;
    }

    /* Add decorative elements to legend title */
    .skill-legend h4::before,
    .skill-legend h4::after {
        content: '•';
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-accent);
        font-size: 1.5rem;
    }

    .skill-legend h4::before {
        left: -1.5rem;
    }

    .skill-legend h4::after {
        right: -1.5rem;
    }

    .skill-legend .legend-items {
        display: flex;
        justify-content: center;
        flex-wrap: wrap; /* Allow wrapping */
        gap: 1.8rem; /* More space between items */
    }

    .legend-item {
        display: flex;
        align-items: center;
        gap: 0.6rem;
        font-size: 0.95rem; /* Slightly larger */
        color: var(--text-secondary);
        padding: 0.5rem 1rem;
        border-radius: 20px;
        background-color: rgba(0, 0, 0, 0.03);
        transition: all 0.3s ease;
    }

    .legend-item:hover {
        background-color: rgba(218, 165, 32, 0.08);
        color: var(--text-primary);
        transform: translateY(-2px);
    }

    .legend-circle {
        width: 14px; /* Larger circle */
        height: 14px;
        border-radius: 50%;
        border: 1px solid rgba(0, 0, 0, 0.2);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Add shadow */
    }

    /* Enhanced Legend Color Definitions */
    .expert { 
        background: linear-gradient(145deg, var(--color-gold-light), var(--color-gold-medium)); 
        box-shadow: 0 0 5px rgba(218, 165, 32, 0.4); /* Add glow */
    }
    .advanced { 
        background: linear-gradient(145deg, var(--color-gold-medium), var(--color-gold-dark)); 
    }
    .proficient { 
        background: linear-gradient(145deg, var(--color-terracotta), #8B4513); 
    }
    .intermediate { 
        background: linear-gradient(145deg, #8B6914, #704214); 
        opacity: 0.8; 
    }

/* =============================================
   14. DOMUS NAVIGATION OVERLAY
   ============================================= */

.domus-navigation {
    position: fixed;
    inset: 0;
    z-index: 1050;
    display: none; /* Initially hidden, shown by JS */
    align-items: center;
    justify-content: center;
    padding: 1rem;
    opacity: 0;
    /* Apply transition for fade-in */
    transition: opacity var(--transition-speed-medium) var(--transition-timing-default);
}

.domus-navigation.visible {
    opacity: 1; /* Fade in */
}

.domus-overlay { /* Background dimming */
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.88); /* Darker overlay */
    backdrop-filter: blur(6px); /* Increased blur */
    -webkit-backdrop-filter: blur(6px);
    z-index: 1;
    cursor: pointer;
}

.domus-container {
    position: relative;
    z-index: 2;
    max-width: 950px; /* Slightly wider */
    width: 95%;
    background-color: var(--bg-card);
    border: 2px solid var(--text-accent); /* Gold border */
    border-radius: 10px; /* More rounding */
    padding: 2.5rem; /* More padding */
    overflow-y: auto;
    max-height: 90vh;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6); /* Stronger shadow */
    /* Entry/Exit Animation Setup */
    transform: scale(0.9) rotateX(-10deg); /* Start scaled down and tilted */
    opacity: 0;
    transition: transform var(--transition-speed-medium) var(--transition-timing-bounce), /* Use bounce effect */
                opacity var(--transition-speed-medium) var(--transition-timing-default);
    transform-origin: center center; /* Rotate around center */
}
.dark-mode .domus-container {
    background-color: var(--color-dark-gray); /* Darker container */
    box-shadow: 0 0 30px 5px rgba(218, 165, 32, 0.15); /* Gold glow */
}

.domus-navigation.visible .domus-container {
    transform: scale(1) rotateX(0deg); /* Animate in */
    opacity: 1;
}

.domus-close {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-size: 2.8rem; /* Larger close icon */
    line-height: 1;
    cursor: pointer;
    padding: 0.5rem;
    transition: color var(--transition-speed-fast) var(--transition-timing-default),
                transform var(--transition-speed-fast) var(--transition-timing-default);
    z-index: 10; /* Ensure above content */
}
/* Hover effect defined in Part 4 */

.domus-title {
    font-family: var(--font-title);
    font-size: clamp(2rem, 4vw, 2.8rem); /* Larger title */
    text-align: center;
    color: var(--text-headings);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.domus-subtitle {
    text-align: center;
    color: var(--text-secondary);
    margin-bottom: 2.5rem; /* More space */
    font-family: var(--font-body);
    font-size: 1.1rem;
}

/* SVG Map Styling */
.domus-map-container {
    width: 100%;
    max-width: 650px; /* Larger map */
    height: auto;
    aspect-ratio: 16 / 10; /* Adjust to your SVG aspect ratio */
    margin: 0 auto 2.5rem auto;
    border: 2px solid var(--border-primary); /* Thicker border */
    position: relative;
    background-color: rgba(0,0,0,0.05);
    border-radius: 6px;
    overflow: hidden; /* Clip SVG if needed */
}
.dark-mode .domus-map-container {
     background-color: rgba(255,255,255,0.03);
     border-color: var(--color-gold-dark);
}

.domus-map {
    display: block;
    width: 100%;
    height: 100%;
}

/* Styles for elements WITHIN the SVG */
#domus-map svg [data-room] {
    fill: rgba(218, 165, 32, 0.1); /* Very subtle base fill */
    stroke: var(--text-accent);
    stroke-width: 0.5px; /* Thinner base stroke */
    cursor: pointer;
    transition: fill var(--transition-speed-fast) var(--transition-timing-default),
                stroke-width var(--transition-speed-fast) var(--transition-timing-default),
                filter var(--transition-speed-fast) var(--transition-timing-default);
}
/* Hover/Focus defined in Part 4 */

/* Domus Legend */
.domus-legend {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem 2rem;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-primary);
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    font-family: var(--font-body);
    font-size: 0.95rem; /* Slightly larger */
    color: var(--text-secondary);
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.3rem 0.6rem;
    border-radius: 4px;
    transition: background-color var(--transition-speed-fast), color var(--transition-speed-fast);
}
/* Hover effect defined in Part 4 */

.legend-color {
    width: 15px; /* Larger circle */
    height: 15px;
    border-radius: 50%;
    border: 1px solid rgba(0,0,0,0.3);
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.2); /* Inner shadow */
}
/* Legend Color Definitions */
.atrium-color { background-color: rgba(218, 165, 32, 0.8); } /* Gold */
.bibliotheca-color { background-color: rgba(160, 82, 45, 0.8); } /* Sienna */
.triclinium-color { background-color: rgba(128, 0, 0, 0.8); } /* Crimson */

/* Wisdom Scroll Styling */
.wisdom-scroll {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    width: 230px; /* Wider */
    transform: rotate(-3deg);
    perspective: 800px;
    z-index: 5;
    /* TODO: Add parchment background image */
    /* background-image: url('../assets/images/parchment-texture.jpg'); */
    background-color: #fdf5e6; /* Parchment color fallback */
    border: 1px solid #d2b48c;
    box-shadow: 4px 4px 12px rgba(0,0,0,0.35); /* Stronger shadow */
    display: none; /* Hidden by default on small screens */
    /* Add subtle sway animation */
    /* animation: scroll-sway 15s ease-in-out infinite alternate; */
}
@media (min-width: 768px) {
    .wisdom-scroll { display: block; }
}
/* @keyframes scroll-sway { from { transform: rotate(-3.5deg); } to { transform: rotate(-2.5deg); } } */

.rod { /* Top and bottom scroll rods */
    height: 12px; /* Thicker rods */
    background: linear-gradient(#8b4513, #5a2d0c);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.6); /* Deeper inset shadow */
}
.rod-top { border-radius: 6px 6px 0 0; }
.rod-bottom { border-radius: 0 0 6px 6px; }

.scroll-body {
    padding: 1rem 1.2rem; /* More padding */
    text-align: center;
    border-left: 3px solid var(--color-gold-dark); /* Thicker side border */
    border-right: 3px solid var(--color-gold-dark);
}

.wisdom-scroll h4 {
    font-family: var(--font-subtitle);
    color: var(--color-crimson-primary);
    margin-bottom: 0.75rem; /* More space */
    font-size: 1.1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1.5px;
}

.wisdom-scroll blockquote {
    font-family: 'Times New Roman', Times, serif;
    font-size: 0.95rem; /* Slightly larger */
    color: #553a23;
    margin: 0 0 1rem; /* More space */
    border: none;
    padding: 0;
    min-height: 4em;
    position: relative;
    transition: opacity 0.15s ease-in-out; /* For fade effect */
}
.dark-mode .wisdom-scroll blockquote { color: #b0a08c; }

/* Quote marks */
.wisdom-scroll blockquote::before,
.wisdom-scroll blockquote::after {
    content: '"';
    position: absolute;
    font-size: 2.5rem; /* Larger quotes */
    color: rgba(139, 69, 19, 0.25);
    line-height: 1;
    font-family: serif; /* Ensure serif quote */
}
.dark-mode .wisdom-scroll blockquote::before,
.dark-mode .wisdom-scroll blockquote::after {
    color: rgba(218, 165, 32, 0.2);
}
.wisdom-scroll blockquote::before { top: -0.2em; left: -0.2em; }
.wisdom-scroll blockquote::after { bottom: -0.4em; right: -0.2em; }

/* Wisdom Next Button inherited base style, specific hover in Part 4 */

/* Domus Tooltip */
.domus-tooltip {
    position: absolute;
    background-color: rgba(10, 10, 10, 0.9); /* Darker tooltip */
    color: var(--color-light-gray);
    padding: 0.6rem 1.1rem; /* Adjust padding */
    border-radius: 5px;
    font-size: 0.9rem;
    font-family: var(--font-body);
    pointer-events: none;
    z-index: 1100;
    display: none;
    white-space: nowrap;
    box-shadow: 0 3px 8px rgba(0,0,0,0.4);
    border: 1px solid rgba(218, 165, 32, 0.3); /* Subtle gold border */
    transition: opacity 0.1s ease-out; /* Fade in/out */
}

/* =============================================
   15. PROJECT MODAL
   ============================================= */

.modal-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.85); /* Darker overlay */
    backdrop-filter: blur(5px); /* Increased blur */
    -webkit-backdrop-filter: blur(5px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1060;
    padding: 1rem;
    opacity: 0;
    transition: opacity var(--transition-speed-medium) var(--transition-timing-default);
}

.modal-overlay.visible {
    opacity: 1;
}

.modal-container {
    background-color: var(--bg-card);
    width: 90%;
    max-width: 850px; /* Wider modal */
    max-height: 90vh;
    overflow-y: auto;
    border-radius: 10px;
    padding: 2.5rem 3rem; /* Increased padding */
    position: relative;
    border: 1px solid var(--border-primary);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.5); /* Stronger shadow */
    /* Entry/Exit Animation Setup */
    transform: scale(0.9) translateY(20px);
    opacity: 0;
     transition: transform var(--transition-speed-medium) var(--transition-timing-bounce), /* Bounce effect */
                opacity var(--transition-speed-medium) var(--transition-timing-default);
}
.dark-mode .modal-container {
    background-color: var(--color-dark-gray);
    border-color: var(--color-gold-dark);
    box-shadow: 0 0 30px 5px rgba(218, 165, 32, 0.1); /* Gold glow */
}

.modal-overlay.visible .modal-container {
    transform: scale(1) translateY(0);
    opacity: 1;
}

.modal-close-btn {
    position: absolute;
    top: 0.8rem;
    right: 0.8rem;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-size: 2.8rem;
    line-height: 1;
    cursor: pointer;
    padding: 0.5rem;
    transition: color var(--transition-speed-fast) var(--transition-timing-default),
                transform var(--transition-speed-fast) var(--transition-timing-default);
    z-index: 10;
}
/* Hover effect defined in Part 4 */

/* Modal Content Styling */
.modal-content h2#modal-project-title {
    font-size: clamp(1.8rem, 4vw, 2.4rem); /* Larger title */
    margin-bottom: 0.25rem;
    color: var(--text-headings);
}

.modal-content h3#modal-project-subtitle {
    font-size: 1.3rem; /* Larger subtitle */
    color: var(--text-secondary);
    margin-bottom: 1rem;
    font-family: var(--font-subtitle);
    font-style: italic;
    font-weight: 400; /* Lighter Garamond */
}

.modal-content p#modal-project-date {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 2.5rem; /* More space */
    display: block;
}

.modal-content h5 { /* Subheadings within modal */
    font-size: 1.2rem; /* Larger subheading */
    color: var(--text-accent); /* Gold subheadings */
    margin: 2rem 0 1rem; /* More space */
    font-family: var(--font-title);
    font-weight: 600;
    border-bottom: 1px solid var(--border-primary);
    padding-bottom: 0.4rem;
    letter-spacing: 0.5px;
}

.modal-content p {
    font-size: 1rem;
    line-height: 1.7; /* Increased line height */
    color: var(--text-primary);
    margin-bottom: 1rem;
}

/* Code Snippet Container */
#modal-code-snippet-container {
    margin: 2rem 0;
    border: 1px solid var(--border-primary);
    border-radius: 6px;
    overflow: hidden;
    background-color: #2d2d2d; /* Use Prism theme background */
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.3);
}
.dark-mode #modal-code-snippet-container {
    background-color: #1e1e1e;
    border-color: var(--color-border-dark);
}

#modal-code-snippet-container h5 { /* Header bar for code */
    border-bottom: 1px solid var(--border-primary);
    margin: 0;
    padding: 0.75rem 1.5rem; /* Adjust padding */
    background-color: rgba(0,0,0,0.1);
    font-size: 1rem;
    color: var(--text-secondary); /* Subdued header text */
}
.dark-mode #modal-code-snippet-container h5 {
    background-color: rgba(255,255,255,0.05);
    border-color: var(--color-border-dark);
}

/* Prism JS Code Block */
pre[class*="language-"] {
    margin: 0 !important;
    padding: 1.25rem 1.5rem !important; /* More padding */
    background: none !important;
    font-size: 0.9rem;
    line-height: 1.6; /* More line height */
    border-radius: 0 0 6px 6px;
    max-height: 400px; /* Limit height and allow scroll */
    overflow-y: auto !important;
}

code[class*="language-"] {
    font-family: var(--font-code);
    color: #ccc; /* Default code color from Prism theme */
    white-space: pre-wrap !important; /* Allow wrapping */
    word-break: break-all; /* Break long lines */
}

/* Project Links */
#modal-project-links-container h5 {
     margin-top: 2rem; /* Space above links heading */
}
.project-links {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    margin-top: 1rem; /* Space below heading */
}

.project-link {
    display: inline-flex;
    align-items: center;
    gap: 0.6rem; /* More gap */
    color: var(--text-accent);
    text-decoration: none;
    font-family: var(--font-body);
    font-size: 1rem; /* Larger link text */
    transition: color var(--transition-speed-fast) var(--transition-timing-default),
                text-shadow var(--transition-speed-fast) var(--transition-timing-default);
}
.project-link i {
    font-size: 1.2em;
    transition: transform var(--transition-speed-fast) ease-in-out;
}
/* Hover effect defined in Part 4 */

/* (End of Part 3) */
/* (Continuing from Part 3 - portfolio_css_v2_part3) */

/* =============================================
   16. HOVER & FOCUS EFFECTS
   ============================================= */

/* --- General Elements --- */
a:hover, a:focus {
    color: var(--link-hover); /* Defined in :root / .dark-mode */
    /* text-shadow: 0 0 5px var(--link-hover); */ /* Optional subtle glow */
}

/* --- Header --- */
.site-title:hover, .site-title:focus {
    color: var(--text-accent);
    text-shadow: 0 0 10px var(--text-accent); /* Gold glow */
}
#site-nav a:hover, #site-nav a:focus {
    color: var(--text-accent);
    border-bottom-color: var(--text-accent);
}

/* --- Hero Section --- */
.social-link-animated:hover,
.social-link-animated:focus-visible {
    background-color: var(--text-accent);
    color: var(--bg-primary); /* Use primary bg for text contrast */
    transform: translateY(-5px) scale(1.15); /* More lift/scale */
    box-shadow: 0 8px 18px rgba(0,0,0,0.5); /* Deeper shadow */
    border-color: var(--color-gold-dark);
}
.dark-mode .social-link-animated:hover,
.dark-mode .social-link-animated:focus-visible {
    color: var(--color-dark-gray);
    box-shadow: 0 0 15px 3px var(--color-gold-light); /* Gold glow */
}

.mosaic-tile:hover,
.mosaic-tile:focus-visible {
    transform: translateZ(30px) rotateX(5deg) rotateY(-4deg); /* More dramatic tilt */
    box-shadow: 0 20px 40px rgba(0,0,0,0.6),
                inset 0 0 15px rgba(218, 165, 32, 0.3); /* Add inner glow */
    border-color: var(--text-accent);
    background: rgba(50, 50, 50, 0.85);
}

.dark-mode .mosaic-tile:hover,
.dark-mode .mosaic-tile:focus-visible {
    box-shadow: 0 20px 40px rgba(0,0,0,0.7), 
                inset 0 0 20px rgba(218, 165, 32, 0.4),
                0 0 20px 2px rgba(218, 165, 32, 0.2); /* Add outer glow too */
}

.mosaic-tile:hover::after,
.mosaic-tile:focus-visible::after {
    opacity: 1;
    top: -30%;
    left: -30%;
    transition: opacity 0.4s ease-out, top 0.4s ease-out, left 0.4s ease-out;
    transition-delay: 0.1s;
}

.mosaic-tile:hover .mosaic-numeral,
.mosaic-tile:focus-visible .mosaic-numeral {
    text-shadow: 1px 1px 1px rgba(0,0,0,0.7), 0 0 10px var(--color-gold-dark);
}

.mosaic-tile:hover h4,
.mosaic-tile:focus-visible h4 {
    opacity: 1;
    color: var(--color-white);
}

/* --- Cards --- */
.card:hover,
*:focus-visible > .card {
    transform: translateY(-10px) scale(1.03) rotateX(2deg) rotateY(-1deg); /* Add slight 3D tilt */
    box-shadow: 0 15px 35px var(--shadow-primary); /* Use variable shadow */
    border-color: var(--text-accent);
}
/* Enhance dark mode card hover */
.dark-mode .card:hover,
.dark-mode *:focus-visible > .card {
     box-shadow: 0 18px 40px var(--shadow-primary), 0 0 20px 0px rgba(218, 165, 32, 0.15); /* Deeper shadow + subtle glow */
}

/* Animate flourishes on card hover */
.card:hover .corner-flourish {
    transform: scale(1.15) rotate(10deg);
    opacity: 0.8;
}

/* --- Project Tech Tags --- */
.project-tech span:hover,
.project-tech span:focus-visible {
    background-color: var(--text-accent);
    color: var(--bg-primary); /* Contrast text */
    transform: scale(1.08);
    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
    border-color: var(--text-accent);
}
.dark-mode .project-tech span:hover,
.dark-mode .project-tech span:focus-visible {
    color: var(--color-dark-gray);
}

/* --- Certification Cards --- */
.cert-card:hover,
*:focus-visible > .cert-card {
    transform: translateY(-12px) scale(1.04); /* More lift */
    box-shadow: 0 15px 35px var(--shadow-primary);
    border-color: var(--text-accent);
}
.cert-card:hover i,
*:focus-visible > .cert-card i {
    transform: scale(1.15) rotate(-5deg); /* Icon animation */
    color: var(--color-gold-medium);
}

/* --- Buttons --- */
/* Add shimmer effect pseudo-element */
.button-primary::before,
.button-secondary-outline::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%; /* Start off-screen */
    width: 50%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transform: skewX(-25deg);
    transition: left var(--transition-speed-medium) ease-in-out;
}
.button-primary:hover::before,
.button-secondary-outline:hover::before,
.button-primary:focus-visible::before,
.button-secondary-outline:focus-visible::before {
    left: 120%; /* Move across */
}

.button-primary:hover,
.button-primary:focus-visible {
    background-color: var(--color-crimson-dark);
    border-color: var(--color-crimson-primary);
    color: var(--color-white);
    transform: translateY(-3px) scale(1.02); /* Lift and scale */
    box-shadow: 0 7px 15px rgba(0,0,0,0.3);
}

.button-secondary-outline:hover,
.button-secondary-outline:focus-visible {
    background-color: var(--text-accent);
    color: var(--bg-primary); /* Contrast text */
    border-color: var(--text-accent);
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 7px 15px rgba(0,0,0,0.25);
}
.dark-mode .button-secondary-outline:hover,
.dark-mode .button-secondary-outline:focus-visible {
    color: var(--color-dark-gray);
}

/* --- Skill Tags --- */
.skill-tag:hover,
.skill-tag:focus-visible {
    box-shadow: 0 8px 20px var(--shadow-primary); /* Enhanced shadow */
    transform: scale(1.06) translateZ(10px); /* Scale and lift */
}
.dark-mode .skill-tag:hover,
.dark-mode .skill-tag:focus-visible {
     box-shadow: 0 10px 25px var(--shadow-primary), 0 0 15px 2px rgba(218, 165, 32, 0.2); /* Add glow */
}

/* --- Domus / Modal --- */
.domus-close:hover, .domus-close:focus-visible,
.modal-close-btn:hover, .modal-close-btn:focus-visible {
    color: var(--text-accent);
    transform: scale(1.15) rotate(90deg);
}

.legend-item:hover,
.legend-item:focus-visible {
    background-color: rgba(218, 165, 32, 0.1);
    color: var(--text-accent);
}

#domus-map svg [data-room]:hover,
#domus-map svg [data-room].hovered,
#domus-map svg [data-room]:focus-visible {
    fill: rgba(218, 165, 32, 0.4);
    stroke-width: 1.5px;
    filter: drop-shadow(0 0 5px var(--text-accent)); /* Glow effect */
}

#wisdom-next:hover,
#wisdom-next:focus-visible {
    background-color: var(--color-gold-dark);
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.project-link:hover,
.project-link:focus-visible {
    color: var(--link-hover);
    text-shadow: 0 0 5px var(--link-hover); /* Subtle glow */
    text-decoration: underline;
}
.project-link:hover i,
.project-link:focus-visible i {
    transform: scale(1.15) rotate(-5deg); /* Icon animation */
}


/* =============================================
   17. ANIMATIONS & TRANSITIONS
   ============================================= */

/* --- Scroll Reveal Animation --- */
.scroll-trigger-section,
.fade-in-sequence > * {
    opacity: 0;
    transform: translateY(40px) scale(0.98); /* Start lower and slightly smaller */
    transition: opacity 0.8s cubic-bezier(0.165, 0.84, 0.44, 1), /* Ease out quad */
                transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
}

/* State when revealed */
.scroll-trigger-section.revealed,
.fade-in-sequence.revealed > * {
    opacity: 1;
    transform: translateY(0) scale(1);
}

/* Staggered animation for children (cards, etc.) */
.revealed .card-grid-list > *, /* Target direct children of grid */
.revealed .skills-grid > * {   /* Target direct children of skill grid */
    opacity: 0; /* Start hidden */
    transform: translateY(20px);
    animation: fade-slide-up 0.6s cubic-bezier(0.165, 0.84, 0.44, 1) forwards; /* Use keyframe animation */
}

@keyframes fade-slide-up {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Apply delays - adjust number of children as needed */
.revealed .card-grid-list > *:nth-child(1), .revealed .skills-grid > *:nth-child(1) { animation-delay: 0.1s; }
.revealed .card-grid-list > *:nth-child(2), .revealed .skills-grid > *:nth-child(2) { animation-delay: 0.18s; }
.revealed .card-grid-list > *:nth-child(3), .revealed .skills-grid > *:nth-child(3) { animation-delay: 0.26s; }
.revealed .card-grid-list > *:nth-child(4), .revealed .skills-grid > *:nth-child(4) { animation-delay: 0.34s; }
.revealed .card-grid-list > *:nth-child(5), .revealed .skills-grid > *:nth-child(5) { animation-delay: 0.42s; }
.revealed .card-grid-list > *:nth-child(6), .revealed .skills-grid > *:nth-child(6) { animation-delay: 0.50s; }
/* Add more if necessary */


/* --- Skill Tag 3D Flip Animation --- */
.skill-tag.flipped .coin-face-inner {
    transform: rotateY(180deg);
}
/* Add subtle brightness change during flip */
.skill-tag .coin-face-inner {
    transition: transform var(--transition-speed-slow) var(--transition-timing-default), filter 0.3s linear;
    filter: brightness(1);
}
.skill-tag.flipping .coin-face-inner { /* Optional class added by JS during flip */
    filter: brightness(0.9);
}


/* --- Filtering Animation --- */
.card.filtered-out {
    transition: opacity var(--transition-speed-medium) ease-out,
                transform var(--transition-speed-medium) ease-out;
    opacity: 0 !important; /* Force opacity 0 */
    transform: scale(0.9) !important; /* Force scale down */
    pointer-events: none !important; /* Prevent interaction */
    /* Avoid display:none for smoother transitions */
}

/* --- Overlay Entry/Exit Animations --- */
/* Transitions defined on .domus-navigation, .modal-overlay, .domus-container, .modal-container */
/* Triggered by adding/removing .visible class via JS */


/* --- Idle Animations (Dark Mode) --- */
.dark-mode .skill-tag {
    animation: subtle-pulse 4s ease-in-out infinite alternate;
}

@keyframes subtle-pulse {
    from { box-shadow: 0 3px 8px var(--shadow-primary); }
    to   { box-shadow: 0 5px 15px var(--shadow-primary), 0 0 8px 1px rgba(218, 165, 32, 0.1); }
}

/* =============================================
   18. DARK MODE REFINEMENTS
   ============================================= */
.dark-mode {
    /* Apply vignette effect to main sections */
    /* section:not(.hero-section)::after {
        content: '';
        position: absolute;
        inset: -50px; Prevent hard edges
        background: radial-gradient(circle at center, transparent 60%, rgba(0,0,0,0.5) 100%);
        pointer-events: none;
        z-index: 0;
        opacity: 0.7;
    } */

    /* Enhance glows */
    *:focus-visible {
        outline-color: var(--color-gold-light);
        box-shadow: 0 0 0 5px rgba(218, 165, 32, 0.3); /* Brighter glow */
    }
    .button-secondary-outline:hover,
    .button-secondary-outline:focus-visible {
        box-shadow: 0 7px 15px rgba(0,0,0,0.3), 0 0 15px 2px rgba(218, 165, 32, 0.25); /* Add glow */
    }
    
    /* Enhanced Section Title */
    #cursus-honorum .section-title {
        text-shadow: 0 0 8px var(--color-gold-light), 0 0 20px var(--color-gold-dark);
        position: relative;
    }
    
    /* Gradient underline that fades at edges */
    #cursus-honorum .section-title::after {
        background: linear-gradient(
            90deg,
            transparent,
            var(--color-gold-dark) 20%,
            var(--color-gold-light) 50%,
            var(--color-gold-dark) 80%,
            transparent
        );
        opacity: 0.8;
        width: 220px; /* Wider underline */
        height: 3px; /* Slightly thicker */
        bottom: -20px;
    }
    
    /* Enhanced Cursus Honorum cards in dark mode */
    #cursus-honorum .card {
        background-color: rgba(0,0,0,0.3); /* Darker background */
        border: 2px solid rgba(218,165,32,0.5); /* Warm gold border */
        box-shadow: 
            inset 0 0 15px rgba(218,165,32,0.3), /* Inner glow */
            0 8px 20px rgba(0,0,0,0.7); /* Outer shadow */
        transition: all var(--transition-speed-medium) var(--transition-timing-default),
                    background-position 1.2s ease-in-out;
        background-image: linear-gradient(
            to right, 
            transparent 0%, 
            rgba(255,255,255,0.1) 50%, 
            transparent 100%
        );
        background-size: 200% 100%;
        background-position: 100% 0;
    }

    /* Hover state for cards */
    #cursus-honorum .card:hover,
    *:focus-visible > #cursus-honorum .card {
        transform: translateY(-8px);
        border-color: var(--color-gold-light); /* Brighter gold border */
        box-shadow: 
            0 12px 30px rgba(0,0,0,0.8), /* Deeper shadow */
            inset 0 0 20px rgba(218,165,32,0.4); /* Enhanced inner glow */
        background-image: linear-gradient(
            to right, 
            transparent 0%, 
            rgba(255,255,255,0.2) 50%, 
            transparent 100%
        );
        animation: sheen 1.2s ease-in-out forwards;
    }
    
    /* Active/selected card styling */
    #cursus-honorum .card.active {
        border-left: 4px solid var(--color-gold-light);
        box-shadow: 0 0 12px var(--color-gold-light),
                    inset 0 0 15px rgba(218,165,32,0.4);
        padding-left: calc(2rem - 4px); /* Adjust padding to compensate for thicker border */
    }

    /* Enhanced headings inside cards */
    #cursus-honorum .card h3 {
        color: var(--color-gold-light); /* Brighter gold for headings */
        text-shadow: 0 0 8px rgba(218, 165, 32, 0.2); /* Subtle glow */
    }

    /* Enhanced links inside cards */
    #cursus-honorum .card a {
        color: #f0c14b; /* Brighter gold for links */
    }
    
    #cursus-honorum .card a:hover {
        color: #ffffff; /* White on hover for contrast */
        text-shadow: 0 0 5px rgba(218, 165, 32, 0.4); /* Glow effect */
    }
    
    /* Keyframe for sheen animation */
    @keyframes sheen {
         from { background-position: -100% 0; }
         to { background-position: 100% 0; } /* Reduced to prevent content from disappearing */
    }
}

/* =============================================
   18. DARK MODE REFINEMENTS (CATCH-ALL OVERRIDES)
   ============================================= */

/* 1. Page background and text */
.dark-mode body {
  background-color: #121212 !important;
  color: #e0e0e0 !important;
}

/* 2. Header & Footer */
.dark-mode .site-header,
.dark-mode footer {
  background-color: #1e1e1e !important;
  border-color: rgba(218,165,32,0.2) !important;
  box-shadow: 0 2px 10px rgba(0,0,0,0.7) !important;
}
.dark-mode .site-header .site-title,
.dark-mode footer a {
  color: var(--color-gold-light) !important;
}

/* 3. Sections & Cards */
.dark-mode section,
.dark-mode .card,
.dark-mode .cert-card {
  background-color: #1f1f1f !important;
  border-color: rgba(218,165,32,0.3) !important;
  box-shadow:
    inset 0 2px 6px rgba(0,0,0,0.8),
    0 8px 20px rgba(0,0,0,0.9);
}
.dark-mode .card h3,
.dark-mode .card h4,
.dark-mode .cert-card h4 {
  color: var(--color-gold-medium) !important;
}

/* 4. Hero & Mosaic Tiles */
.dark-mode .hero-section {
  background-color: #111 !important;
}
.dark-mode .mosaic-tile {
  background-color: #222 !important;
  box-shadow:
    0 12px 30px rgba(0,0,0,0.8),
    inset 0 0 8px rgba(218,165,32,0.4);
}
.dark-mode .mosaic-tile:hover {
  border-color: var(--color-gold-light) !important;
  box-shadow:
    0 20px 40px rgba(0,0,0,0.9),
    0 0 15px rgba(218,165,32,0.5);
}

/* 5. Skill Tags (Coins) */
.dark-mode .skill-tag,
.dark-mode .coin-face {
  background-color: #1e1e1e !important;
  border-color: rgba(218,165,32,0.3) !important;
  box-shadow:
    inset 0 1px 3px rgba(0,0,0,0.7),
    0 4px 12px rgba(0,0,0,0.8);
}
.dark-mode .skill-tag:hover {
  box-shadow:
    0 8px 20px rgba(0,0,0,0.9),
    0 0 12px rgba(218,165,32,0.4);
}

/* 6. Links & Buttons */
.dark-mode a,
.dark-mode .button-primary,
.dark-mode .button-secondary-outline {
  color: var(--color-gold-light) !important;
  border-color: rgba(218,165,32,0.4) !important;
}
.dark-mode a:hover,
.dark-mode .button-primary:hover,
.dark-mode .button-secondary-outline:hover {
  color: var(--color-crimson-primary) !important;
  box-shadow: 0 0 12px rgba(218,165,32,0.5) !important;
}

/* 7. Modals & Overlays */
.dark-mode .modal-container,
.dark-mode .domus-container {
  background-color: #212121 !important;
  border-color: rgba(218,165,32,0.3) !important;
  box-shadow:
    0 15px 40px rgba(0,0,0,0.8),
    inset 0 0 10px rgba(0,0,0,0.6);
}

/* 8. Enter Button */
.dark-mode .enter-button {
    background: rgba(30,30,30,0.8); /* Dark semi-transparent background */
    border: 1px solid var(--color-gold-light); /* Fine gold border */
    box-shadow: 
        0 4px 15px rgba(0, 0, 0, 0.6),
        inset 0 2px 6px rgba(0,0,0,0.8); /* Deep inner shadow */
}

.dark-mode .enter-text {
    color: var(--color-gold-light); 
    text-shadow: 0 0 5px rgba(218,165,32,0.6);
}

.dark-mode .enter-button:hover {
    border-color: var(--color-gold-medium);
    transform: translateY(-2px) scale(1.02); /* Slightly raise */
    box-shadow: 
        0 7px 20px rgba(0, 0, 0, 0.7),
        0 0 15px rgba(218,165,32,0.8), /* Brighter gold glow */
        inset 0 2px 6px rgba(0,0,0,0.8);
}

.dark-mode .enter-button:active {
    background: rgba(20,20,20,0.9); /* Darker background */
    transform: translateY(1px);
    box-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.6),
        0 0 8px rgba(218,165,32,0.5), /* Reduced glow */
        inset 0 2px 6px rgba(0,0,0,0.9);
}

.dark-mode .enter-button {
    background: linear-gradient(to bottom, #333 0%, #1f1f1f 100%) !important;
    color: var(--color-gold-light) !important;
    box-shadow:
        0 6px 18px rgba(0,0,0,0.9),
        inset 0 0 8px rgba(218,165,32,0.4);
}
.dark-mode .enter-button:hover {
    box-shadow:
        0 10px 30px rgba(0,0,0,1),
        0 0 20px rgba(218,165,32,0.6) !important;
}

/* 9. Enhanced Typography */
.dark-mode h1, .dark-mode h2, .dark-mode h3 {
    text-shadow: 0 0 10px rgba(218,165,32,0.3) !important;
}
.dark-mode p, .dark-mode li {
    color: #d0d0d0 !important;
}
.dark-mode blockquote {
    background-color: rgba(255,255,255,0.05) !important;
    border-color: var(--color-gold-dark) !important;
}

/* 10. Form Elements */
.dark-mode input, .dark-mode textarea, .dark-mode select {
    background-color: #252525 !important;
    border-color: rgba(218,165,32,0.3) !important;
    color: #e0e0e0 !important;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.8) !important;
}
.dark-mode input:focus, .dark-mode textarea:focus, .dark-mode select:focus {
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.8), 0 0 0 3px rgba(218,165,32,0.3) !important;
    border-color: var(--color-gold-medium) !important;
}

/* 11. Scrollbar Enhancement */
.dark-mode::-webkit-scrollbar-track {
    background-color: #1a1a1a !important;
}
.dark-mode::-webkit-scrollbar-thumb {
    background-color: var(--color-gold-dark) !important;
    border: 2px solid #1a1a1a !important;
}
.dark-mode::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-gold-light) !important;
}

/* =============================================
   19. MEDIA QUERIES (Responsiveness)
   ============================================= */

/* Large Devices (Desktops, < 1200px) */
@media (max-width: 1199.98px) {
    /* Adjust container padding if needed */
    :root {
        --container-max-width: 1000px;
    }
}

/* Medium Devices (Tablets, < 992px) */
@media (max-width: 991.98px) {
    /* Header adjustments */
    #site-nav { display: none; }
    #mobile-menu-toggle { display: block; }

    /* Hero section layout */
    .hero-section .section-content { flex-direction: column; gap: 3rem; }
    .hero-mosaic { width: 80%; max-width: 450px; order: 1; grid-template-columns: repeat(3, 1fr); }
    .hero-content { width: 100%; order: 2; text-align: center; max-width: 600px; }
    .hero-buttons, .social-links { justify-content: center; }
    .imperial-scroll-indicator { left: 50%; right: auto; transform: translateX(-50%); }

    /* Grid adjustments */
    .card-grid-list { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; }
    .cert-grid { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }

    /* Domus Wisdom Scroll */
    .wisdom-scroll { display: none; }

    /* Reduce perspective for less intense 3D on tablets */
    .hero-mosaic, .card-grid-list, .skills-grid { perspective: 1500px; }
}

/* Small Devices (Landscape Phones, < 768px) */
@media (max-width: 767.98px) {
    /* Reduce section padding */
    section { padding: clamp(2.5rem, 6vw, 4rem) 0; }

    /* Typography adjustments */
    h1 { font-size: clamp(2rem, 7vw, 2.8rem); }
    h2, .section-title { font-size: clamp(1.7rem, 6vw, 2.2rem); }
    h3 { font-size: clamp(1.3rem, 5vw, 1.6rem); }

    .hero-section { padding-top: 6rem; padding-bottom: 3rem; background-attachment: scroll; }
    .hero-mosaic { grid-template-columns: repeat(2, 1fr); width: 90%; }

    .card-grid-list { grid-template-columns: 1fr; gap: 1.5rem; }
    .cert-grid { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }

    /* Modal padding */
    .modal-container { padding: 1.5rem; }
    .modal-content h2#modal-project-title { font-size: clamp(1.5rem, 5vw, 1.8rem); }

    /* Footer padding */
    footer { padding: 2rem var(--container-padding); }

    /* Simplify 3D effects */
    .card:hover, *:focus-visible > .card { transform: translateY(-8px) scale(1.02); } /* Remove tilt */
    .mosaic-tile:hover, .mosaic-tile:focus-visible { transform: translateZ(20px); } /* Remove tilt */
    .skill-tag:hover, .skill-tag:focus-visible { transform: scale(1.05); } /* Remove lift */
}

/* Extra Small Devices (Portrait Phones, < 576px) */
@media (max-width: 575.98px) {
    /* Further reduce padding/margins */
    body { font-size: 0.95rem; line-height: 1.6; }

    :root { --container-padding: 1rem; }
    .container { width: 95%; }

    .site-header .container { padding: 0.5rem var(--container-padding); }
    .site-title { font-size: 1.3rem; }

    .hero-section { padding-top: 5rem; }
    .hero-mosaic { grid-template-columns: repeat(2, 1fr); gap: 0.8rem; }
    .hero-buttons { flex-direction: column; align-items: center; }
    .button-primary, .button-secondary-outline { width: 90%; max-width: 300px; padding: 0.7rem 1.5rem; font-size: 0.9rem; }
    .social-links { gap: 0.8rem; }
    .social-link-animated { width: 40px; height: 40px; font-size: 1.1rem; }

    .section-title { margin-bottom: 2.5rem; }
    .section-title::after { width: 100px; height: 3px; bottom: -12px; }

    .skills-grid { gap: 0.7rem; }
    .skill-tag .coin-face { padding: 0.5rem 1.1rem; font-size: 0.9rem; }
    .skill-category-title { font-size: 1.2rem; }

    .cert-grid { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }

    /* Form adjustments */
    #contact-form .button-primary { width: 100%; }

    /* Modal adjustments */
    .modal-container { padding: 1.2rem; }
    .modal-close-btn { font-size: 2.2rem; top: 0.6rem; right: 0.6rem; }
    .modal-content h5 { margin-top: 1.5rem; font-size: 1.1rem; }
    pre[class*="language-"] { font-size: 0.85rem; padding: 1rem !important; }
}

/* =============================================
   20. PRINT STYLES (Optional)
   ============================================= */
@media print {
    body {
        background-color: var(--color-white);
        color: var(--color-black);
    }
    /* Hide non-essential elements */
    .site-header, footer, #preloader, .scroll-progress, .domus-navigation, .modal-overlay, .imperial-scroll-indicator, #dark-mode-toggle, .domus-nav-toggle, #reset-filter-btn {
        display: none !important;
    }
    /* Reset styles for printing */
    section { padding: 1.5rem 0; }
    .card, .cert-card {
        box-shadow: none;
        border: 1px solid #ccc;
        page-break-inside: avoid; /* Prevent cards breaking across pages */
    }
    a { color: #333; text-decoration: underline; }
    /* Ensure all content is visible */
    * {
        color: #000 !important;
        background: transparent !important;
        box-shadow: none !important;
        text-shadow: none !important;
        filter: none !important;
        -ms-filter: none !important;
    }
}

/* =============================================
   20. DETAILED EXPERIENCE & LEADERSHIP STYLING
   ============================================= */
/* =============================================
    20. DETAILED EXPERIENCE & LEADERSHIP STYLING
    ============================================= */

/* Enhanced Section Headings */
#professional-experience h2.section-title,
#leadership-activities h2.section-title {
     font-family: var(--font-title);
     font-weight: 700;
     letter-spacing: 2px;
     text-shadow: 
          0 0 8px var(--color-gold-light),
          0 0 20px var(--color-gold-dark);
     position: relative;
     padding-bottom: 1rem;
}

/* Centered gradient underline with ornate pattern */
#professional-experience h2.section-title::after,
#leadership-activities h2.section-title::after {
     content: "";
     position: absolute;
     bottom: -18px;
     left: 50%;
     transform: translateX(-50%);
     width: 200px;
     height: 3px;
     background: linear-gradient(90deg,
          transparent,
          var(--color-gold-dark) 20%,
          var(--color-gold-light) 50%,
          var(--color-gold-dark) 80%,
          transparent
     );
     border-radius: 2px;
}

/* Additional decorative elements for section titles */
#professional-experience h2.section-title::before,
#leadership-activities h2.section-title::before {
     content: "✦";
     font-family: serif;
     position: absolute;
     bottom: -15px;
     left: 50%;
     transform: translateX(-50%);
     font-size: 1.5rem;
     color: var(--color-gold-light);
     text-shadow: 0 0 10px var(--color-gold-dark);
     z-index: 2;
}

/* Enhance grid container perspective */
.card-grid-list {
     perspective: 2000px; /* Increased perspective for more dramatic 3D */
     position: relative;
     z-index: 1;
}

/* Specific Styling for Experience Cards */
#professional-experience .card {
     box-shadow: var(--shadow-primary),
                 inset 0 0 20px rgba(218, 165, 32, 0.3);
     border: 1px solid rgba(0,0,0,0.1);
     background-image: 
          url('../assets/images/textures/marble-veins-light.png'), 
          linear-gradient(to bottom, rgba(0,0,0,0.02), transparent);
     background-color: var(--bg-card);
     border-left: 6px solid var(--color-gold-light); /* Gold bevel instead of crimson */
     padding-left: calc(2rem - 6px);
     position: relative;
     overflow: hidden;
     transform: perspective(2000px) rotateY(0deg) rotateX(0deg);
     transform-style: preserve-3d;
     transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275),
                 box-shadow 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275),
                 background-position 1.2s ease-in-out;
     /* Add more decorative elements */
     background-blend-mode: overlay;
     background-size: 400px, cover;
}

/* Add ornate frame to cards */
#professional-experience .card::before {
     content: '';
     position: absolute;
     inset: 0;
     border: 2px solid transparent;
     border-image: linear-gradient(
          45deg,
          rgba(218, 165, 32, 0.05) 0%,
          rgba(218, 165, 32, 0.3) 25%,
          rgba(218, 165, 32, 0.5) 50%,
          rgba(218, 165, 32, 0.3) 75%,
          rgba(218, 165, 32, 0.05) 100%
     ) 1;
     pointer-events: none;
     z-index: 2;
     opacity: 0.6;
     transition: opacity 0.4s ease;
}

.dark-mode #professional-experience .card {
     box-shadow: var(--shadow-primary),
                 inset 0 0 20px rgba(218, 165, 32, 0.3);
     border-color: rgba(255,255,255,0.1);
     background-image: 
          url('../assets/images/textures/charcoal-leather.png'),
          linear-gradient(to bottom, rgba(255,255,255,0.02), transparent);
     border-left: 6px solid var(--color-gold-light);
     background-color: var(--color-dark-gray);
     background-blend-mode: overlay;
     background-size: 400px, cover;
     filter: brightness(0.95);
}

#professional-experience .card:hover,
*:focus-visible > #professional-experience .card {
     transform: perspective(2000px) rotateX(8deg) rotateY(-6deg) translateY(-8px);
     box-shadow: 0 15px 35px var(--shadow-primary),
                 inset 0 0 25px var(--color-gold-light);
     border-left-color: var(--color-gold-light);
     background-image: 
          url('../assets/images/textures/marble-veins-light.png'),
          linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
     background-size: 400px, 200% 100%;
     animation: sheen 1.2s ease-in-out forwards;
     z-index: 5; /* Higher z-index to prevent disappearing */
     position: relative; /* Needed for z-index to work properly */
}

/* Make card content appear above the hover effects */
#professional-experience .card > *,
#leadership-activities .card > * {
     position: relative;
     z-index: 3;
}

.dark-mode #professional-experience .card:hover,
.dark-mode *:focus-visible > #professional-experience .card {
     box-shadow: 0 15px 35px var(--shadow-primary),
                 inset 0 0 25px var(--color-gold-light);
     border-left-color: var(--color-gold-light);
     background-image: 
          url('../assets/images/textures/charcoal-leather.png'),
          linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
     background-size: 400px, 200% 100%;
     animation: sheen 1.2s ease-in-out forwards;
}

/* Enhanced sheen animation keyframes */
@keyframes sheen {
     0% { background-position: -100% 0; }
     100% { background-position: 200% 0; }
}

/* Active state styling with enhanced pulsing effect */
#professional-experience .card.active {
     animation: pulseGlow 2s ease-in-out infinite alternate;
     transform: translateY(-4px) scale(1.02);
     border-left-color: var(--color-gold-light);
     z-index: 4; /* Ensure active cards stay visible */
}

@keyframes pulseGlow {
     from { 
          box-shadow: 0 0 20px var(--color-gold-light); 
          border-left-color: var(--color-gold-light);
     }
     to { 
          box-shadow: 0 0 30px var(--color-gold-dark);
          border-left-color: var(--color-gold-dark); 
     }
}

/* Embossed gold laurel-leaf corner flourishes */
#professional-experience .corner-flourish path {
     stroke: var(--color-gold-medium);
     stroke-width: 2;
     filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.4));
}

/* Ornate hover effect for corner flourishes */
#professional-experience .card:hover .corner-flourish {
     transform: scale(1.3) rotate(15deg) translateZ(20px);
     opacity: 1;
     filter: drop-shadow(0 0 8px rgba(218, 165, 32, 0.6));
}

/* Add decorative date stamps to experience cards */
#professional-experience .card .date-location {
     position: relative;
     display: inline-block;
     padding: 0.2rem 0.6rem;
     background: rgba(218, 165, 32, 0.08);
     border-radius: 3px;
     font-style: italic;
     border: 1px solid rgba(218, 165, 32, 0.15);
     margin-bottom: 1.5rem;
}

#professional-experience .card .date-location::before {
     content: "•";
     display: inline-block;
     margin-right: 0.4rem;
     color: var(--color-gold-medium);
}

/* --- LEADERSHIP CARDS --- */

/* Specific Styling for Leadership Cards */
#leadership-activities .card {
     background-image: 
          url('../assets/images/textures/travertine-light.png'),
          linear-gradient(to bottom, rgba(255,255,255,0.1), transparent);
     background-size: 500px, cover;
     background-blend-mode: overlay;
     background-color: var(--bg-card);
     border-color: var(--color-gold-medium);
     border-width: 2px;
     box-shadow: var(--shadow-primary),
                 inset 0 0 0 1px rgba(218, 165, 32, 0.3);
     transform-style: preserve-3d;
     transform: perspective(2000px) rotateY(0deg) rotateX(0deg);
     position: relative; 
     z-index: 1;
}

.dark-mode #leadership-activities .card {
     background-image: 
          url('../assets/images/textures/travertine-dark.png'),
          linear-gradient(to bottom, rgba(255,255,255,0.05), transparent);
     background-blend-mode: overlay;
     border-color: var(--color-gold-light);
     box-shadow: var(--shadow-primary),
                 inset 0 0 0 1px rgba(218, 165, 32, 0.5);
}

#leadership-activities .corner-flourish path {
     stroke: var(--color-gold-light);
     stroke-width: 2.2;
     filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.6));
}

#leadership-activities .card:hover,
*:focus-visible > #leadership-activities .card {
     transform: perspective(2000px) rotateX(8deg) rotateY(-6deg) translateY(-8px);
     border-color: var(--color-gold-light);
     box-shadow: 0 15px 35px var(--shadow-primary), 
                 inset 0 0 25px var(--color-gold-light);
     background-image: 
          url('../assets/images/textures/travertine-light.png'),
          linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
     background-size: 500px, 200% 100%;
     animation: sheen 1.2s ease-in-out forwards;
     z-index: 5; /* Higher z-index to prevent disappearing */
     position: relative; /* Needed for z-index to work properly */
}

.dark-mode #leadership-activities .card:hover,
.dark-mode *:focus-visible > #leadership-activities .card {
     background-image: 
          url('../assets/images/textures/travertine-dark.png'),
          linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
     background-size: 500px, 200% 100%;
     animation: sheen 1.2s ease-in-out forwards;
}

#leadership-activities .card:hover .corner-flourish,
*:focus-visible > #leadership-activities .card .corner-flourish {
     transform: scale(1.3) rotate(15deg) translateZ(20px);
     opacity: 1;
}

#leadership-activities .card:hover .corner-flourish path,
*:focus-visible > #leadership-activities .card .corner-flourish path {
     filter: drop-shadow(0 0 4px var(--color-gold-light));
     stroke: var(--color-gold-light);
}

/* Enhanced laurel border decoration for leadership cards */
#leadership-activities .card::after {
     content: '';
     position: absolute;
     inset: 10px;
     border: 2px solid transparent;
     border-image: linear-gradient(
          45deg,
          rgba(218, 165, 32, 0.1) 0%,
          rgba(218, 165, 32, 0.5) 25%,
          rgba(218, 165, 32, 0.8) 50%,
          rgba(218, 165, 32, 0.5) 75%,
          rgba(218, 165, 32, 0.1) 100%
     ) 1;
     border-radius: 4px;
     pointer-events: none;
     z-index: 2;
     opacity: 0.5;
     transition: opacity 0.4s ease, transform 0.4s ease;
}

#leadership-activities .card:hover::after,
*:focus-visible > #leadership-activities .card::after {
     opacity: 0.9;
}

/* Add ornate heading decoration */
#leadership-activities .card h3 {
     position: relative;
     display: inline-block;
     padding-bottom: 0.5rem;
}

#leadership-activities .card h3::after {
     content: '';
     display: block;
     width: 50px;
     height: 2px;
     background-image: linear-gradient(
          to right,
          var(--color-gold-light),
          var(--color-gold-medium),
          transparent
     );
     margin-top: 0.5rem;
     opacity: 0.8;
     transition: width var(--transition-speed-medium) ease;
}

#leadership-activities .card:hover h3::after {
     width: 100px;
}

/* Add decorative quote marks to leadership card descriptions */
#leadership-activities .card ul {
     position: relative;
     padding-left: 1.8rem;
}

#leadership-activities .card ul::before {
     content: "❝";
     position: absolute;
     left: 0;
     top: -0.5rem;
     font-size: 1.6rem;
     color: rgba(218, 165, 32, 0.4);
     font-family: serif;
     line-height: 1;
}

#leadership-activities .card ul::after {
     content: "❞";
     position: absolute;
     right: 0.5rem;
     bottom: -0.5rem;
     font-size: 1.6rem;
     color: rgba(218, 165, 32, 0.4);
     font-family: serif;
     line-height: 1;
}

/* Active state for leadership cards */
#leadership-activities .card.active {
     animation: pulseGlow 2s ease-in-out infinite alternate;
     transform: translateY(-4px) scale(1.02);
     border-color: var(--color-gold-light);
     z-index: 4; /* Ensure active cards stay visible */
}

/* Enhanced bullet points for all cards */
#professional-experience .card ul li,
#leadership-activities .card ul li {
     position: relative;
     list-style: none;
     padding-left: 1.2rem;
     margin-bottom: 0.8rem;
}

#professional-experience .card ul li::before,
#leadership-activities .card ul li::before {
     content: "◆";
     position: absolute;
     left: 0;
     color: var(--color-gold-medium);
     font-size: 0.8rem;
     opacity: 0.8;
}

/* Smooth scroll-reveal animation for cards */
#professional-experience .card,
#leadership-activities .card {
     opacity: 0;
     transform: translateY(60px);
     transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
}

/* Apply reveal classes via JS */
#professional-experience .card.reveal-card,
#leadership-activities .card.reveal-card {
     opacity: 1;
     transform: translateY(0);
}

/* Staggered animation for cards */
#professional-experience .card.reveal-card:nth-child(1),
#leadership-activities .card.reveal-card:nth-child(1) { transition-delay: 0.1s; }
#professional-experience .card.reveal-card:nth-child(2),
#leadership-activities .card.reveal-card:nth-child(2) { transition-delay: 0.3s; }
#professional-experience .card.reveal-card:nth-child(3),
#leadership-activities .card.reveal-card:nth-child(3) { transition-delay: 0.5s; }
#professional-experience .card.reveal-card:nth-child(4),
#leadership-activities .card.reveal-card:nth-child(4) { transition-delay: 0.7s; }
#professional-experience .card.reveal-card:nth-child(5),
#leadership-activities .card.reveal-card:nth-child(5) { transition-delay: 0.9s; }

/* Enhanced Persistent Side Pillars */
.side-pillar {
     position: fixed;
     top: 0;
     bottom: 0;
     width: clamp(30px, 4vw, 50px);
     z-index: 0;
     pointer-events: none;
     background-color: rgba(0,0,0,0.03);
     background-image: 
          repeating-linear-gradient(
                0deg, 
                transparent, 
                transparent 40px, 
                rgba(0, 0, 0, 0.05) 40px, 
                rgba(0, 0, 0, 0.05) 42px
          ),
          url('../assets/images/textures/marble-column.png');
     background-repeat: repeat-y;
     background-size: 100% auto;
     opacity: 0.7;
     box-shadow: inset 2px 0 6px rgba(0,0,0,0.1),
                 inset -2px 0 6px rgba(0,0,0,0.1);
     transition: opacity var(--transition-speed-medium), background-color var(--transition-speed-medium);
}

/* Add ornate capital to columns */
.side-pillar::before {
     content: '';
     position: absolute;
     top: 0;
     left: 0;
     right: 0;
     height: 50px;
     background-image: 
          linear-gradient(to bottom, rgba(218, 165, 32, 0.2), transparent),
          repeating-linear-gradient(to right, 
               transparent, transparent 4px, 
               rgba(218, 165, 32, 0.1) 4px, 
               rgba(218, 165, 32, 0.1) 8px);
     background-blend-mode: overlay;
}

/* Add ornate base to columns */
.side-pillar::after {
     content: '';
     position: absolute;
     bottom: 0;
     left: 0;
     right: 0;
     height: 50px;
     background-image: 
          linear-gradient(to top, rgba(218, 165, 32, 0.2), transparent),
          repeating-linear-gradient(to right, 
               transparent, transparent 4px, 
               rgba(218, 165, 32, 0.1) 4px, 
               rgba(218, 165, 32, 0.1) 8px);
     background-blend-mode: overlay;
}

.dark-mode .side-pillar {
     background-color: rgba(255,255,255,0.02);
     background-image: 
          repeating-linear-gradient(
                0deg, 
                transparent, 
                transparent 40px, 
                rgba(255, 255, 255, 0.05) 40px, 
                rgba(255, 255, 255, 0.05) 42px
          ),
          url('../assets/images/textures/marble-column-dark.png');
     opacity: 0.8;
     box-shadow: inset 2px 0 8px rgba(0,0,0,0.5),
                 inset -2px 0 8px rgba(0,0,0,0.5);
}

/* Create a subtle animation for the columns */
.side-pillar {
     animation: column-shimmer 20s infinite linear;
}

@keyframes column-shimmer {
     0%, 100% { 
          background-position: 0 0, 0 0; 
          box-shadow: inset 2px 0 6px rgba(0,0,0,0.1),
                    inset -2px 0 6px rgba(0,0,0,0.1);
     }
     50% { 
          background-position: 5px 500px, 0 0; 
          box-shadow: inset 2px 0 10px rgba(0,0,0,0.2),
                    inset -2px 0 10px rgba(0,0,0,0.2);
     }
}

.side-pillar.left { left: 0; }
.side-pillar.right { right: 0; }

/* Add subtle fluted pattern to pillars */
.side-pillar.left::before,
.side-pillar.right::before {
     content: '';
     position: absolute;
     inset: 0;
     background-image: repeating-linear-gradient(
          to right,
          transparent,
          transparent 30%,
          rgba(0, 0, 0, 0.03) 40%,
          transparent 50%
     );
     z-index: 1;
     opacity: 0.7;
}

/* Ensure proper z-index stacking */
.main-content-wrapper {
     position: relative;
     z-index: 1;
}

.site-header,
footer {
     position: relative;
     z-index: 10;
}

.site-header { z-index: 1000; }
/* =============================================
   APPENDED STYLES FOR ENHANCED ROMAN SEAL PRELOADER
   ============================================= */

/* --- New Element Styling --- */

/* Background texture for the preloader */
#roman-seal-preloader .seal-background {
    position: absolute;
    inset: 0;
    /* Example parchment texture using CSS gradient - replace with image if preferred */
    background-image:
        linear-gradient(rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.9)),
        radial-gradient(ellipse at center, #fdf5e6 10%, transparent 70%),
        linear-gradient(135deg, #f5f5dc 25%, transparent 25%),
        linear-gradient(225deg, #f5f5dc 25%, transparent 25%),
        linear-gradient(45deg, #f5f5dc 25%, transparent 25%),
        linear-gradient(315deg, #f5f5dc 25%, #e8e4d5 25%);
    background-blend-mode: overlay, normal, normal, normal, normal, normal;
    background-size: cover, cover, 40px 40px, 40px 40px, 40px 40px, 40px 40px;
    opacity: 0.2; /* Subtle background texture */
    z-index: -1; /* Behind the seal container */
    animation: subtle-texture-shift 60s linear infinite alternate;
}

@keyframes subtle-texture-shift {
    from { background-position: 0% 0%; }
    to { background-position: 5% 5%; }
}

/* Light Glint Effect */
#roman-seal-preloader .seal-glint {
    position: absolute;
    top: 0;
    left: -100%; /* Start off-screen */
    width: 50%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 223, 150, 0.4) 50%, /* Softer gold light */
        transparent
    );
    transform: skewX(-25deg);
    pointer-events: none;
    opacity: 0;
    animation: seal-glint-sweep 4s ease-in-out 1s infinite; /* Delayed infinite sweep */
}

@keyframes seal-glint-sweep {
    0% { left: -100%; opacity: 0; }
    20% { left: 150%; opacity: 0.8; } /* Sweep across */
    21% { opacity: 0; } /* Disappear quickly */
    100% { left: 150%; opacity: 0; } /* Stay off-screen */
}

/* Container for Fragments */
#roman-seal-preloader .fragment-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden; /* Keep fragments contained visually initially */
    z-index: 5; /* Above base seal, below crack overlay potentially */
}

/* Individual Fragments */
#roman-seal-preloader .seal-fragment {
    position: absolute;
    width: 50%; /* Adjust size as needed */
    height: 50%;
    /* Use radial gradient matching seal color */
    background: radial-gradient(circle, #9b2d21, var(--color-crimson-primary));
    opacity: 0; /* Initially hidden */
    transform: translate(0, 0) rotate(0deg) scale(1);
    will-change: transform, opacity; /* Optimize animation */
    /* Add jagged edge effect */
    clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 80% 90%, 50% 100%, 20% 90%, 0% 100%);
}

/* Position fragments */
#roman-seal-preloader .seal-fragment.top-left { top: 0; left: 0; }
#roman-seal-preloader .seal-fragment.top-right { top: 0; right: 0; transform: scaleX(-1); } /* Flip for symmetry */
#roman-seal-preloader .seal-fragment.bottom-left { bottom: 0; left: 0; transform: scaleY(-1); } /* Flip */
#roman-seal-preloader .seal-fragment.bottom-right { bottom: 0; right: 0; transform: scale(-1, -1); } /* Flip both */
#roman-seal-preloader .seal-fragment.center {
    top: 25%; left: 25%; width: 50%; height: 50%; /* Smaller center piece */
    clip-path: circle(40% at 50% 50%);
}

/* --- Modified Existing Styles --- */

/* Preloader background */
#roman-seal-preloader {
    /* Background color is now less important due to .seal-background */
    background-color: var(--color-near-black); /* Keep as fallback */
    transition: opacity 0.8s ease-out 0.5s; /* Slightly longer fade-out */
}

/* Seal Container - enhance entry animation trigger */
#roman-seal-preloader .seal-container {
    /* Animation is now more complex */
    animation: seal-materialize 1.2s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
    will-change: transform, opacity, filter;
    transform: scale(0.5) rotateZ(-30deg); /* Start smaller and rotated */
    opacity: 0;
    filter: brightness(1.5) contrast(1.2) drop-shadow(0px 8px 20px rgba(0,0,0,0.6)); /* Enhanced shadow/light */
}

/* Enhance crack overlay visibility */
#roman-seal-preloader .crack-overlay {
    opacity: 0;
    pointer-events: none;
    mix-blend-mode: screen; /* Use screen or overlay for light cracks */
    transition: opacity 0.2s ease-in;
    /* Set initial stroke dash for animation */
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
}

/* --- Enhanced Animations --- */

@keyframes seal-materialize {
    0% {
        opacity: 0;
        transform: scale(0.5) rotateZ(-30deg);
        filter: brightness(3) contrast(1.5) blur(5px) drop-shadow(0px 0px 5px rgba(0,0,0,0));
    }
    60% {
        opacity: 1;
        transform: scale(1.05) rotateZ(5deg);
        filter: brightness(1.2) contrast(1.1) blur(0px) drop-shadow(0px 12px 25px rgba(0,0,0,0.7));
    }
    100% {
        opacity: 1;
        transform: scale(1) rotateZ(0deg);
        filter: brightness(1) contrast(1) blur(0px) drop-shadow(0px 8px 20px rgba(0,0,0,0.6));
    }
}

/* Animation for drawing the cracks */
@keyframes draw-crack {
    to {
        stroke-dashoffset: 0;
    }
}

/* Animation for the fragments shattering */
@keyframes shatter-fragment {
    0% {
        opacity: 0;
        transform: translate(0, 0) rotate(0deg) scale(1);
    }
    10% {
        opacity: 1; /* Appear quickly */
    }
    100% {
        opacity: 0;
        /* Move fragments outwards and rotate randomly */
        /* Example: Adjust these values per fragment class if needed */
        transform: translate(var(--tx, 0px), var(--ty, 0px)) rotate(var(--rot, 0deg)) scale(0.8);
    }
}

/* Animation for final fade out/implosion */
@keyframes seal-implode-fade {
    0% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
        filter: brightness(1);
    }
    100% {
        opacity: 0;
        transform: scale(0.5) rotate(30deg);
        filter: brightness(2) blur(3px); /* Fade out with light/blur */
    }
}

/* --- State Classes (.cracking, .hiding) --- */

#roman-seal-preloader.cracking .crack-overlay {
    opacity: 0.9; /* Make cracks visible */
}

/* Animate crack drawing */
#roman-seal-preloader.cracking .crack-overlay .crack {
    animation: draw-crack 0.6s cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards; /* EaseInSine */
}
#roman-seal-preloader.cracking .crack-overlay .secondary-crack { animation-delay: 0.1s; animation-duration: 0.5s; }
#roman-seal-preloader.cracking .crack-overlay .tertiary-crack { animation-delay: 0.2s; animation-duration: 0.4s; }
#roman-seal-preloader.cracking .crack-overlay .highlight-crack { animation-delay: 0.05s; animation-duration: 0.6s; opacity: 0.6; }

/* Trigger fragment shatter animation */
#roman-seal-preloader.cracking .seal-fragment {
    animation: shatter-fragment 0.8s ease-out forwards;
    animation-delay: 0.1s; /* Start slightly after cracks begin */
}
/* Define random-like transforms for each fragment */
#roman-seal-preloader.cracking .seal-fragment.top-left { --tx: -80px; --ty: -80px; --rot: -45deg; animation-delay: 0.1s; }
#roman-seal-preloader.cracking .seal-fragment.top-right { --tx: 80px; --ty: -80px; --rot: 30deg; animation-delay: 0.15s; }
#roman-seal-preloader.cracking .seal-fragment.bottom-left { --tx: -80px; --ty: 80px; --rot: 60deg; animation-delay: 0.2s; }
#roman-seal-preloader.cracking .seal-fragment.bottom-right { --tx: 80px; --ty: 80px; --rot: -20deg; animation-delay: 0.12s; }
#roman-seal-preloader.cracking .seal-fragment.center { --tx: 0px; --ty: 0px; --rot: 10deg; animation-delay: 0.25s; animation-duration: 0.5s; }


/* Override hiding transition for new animation */
#roman-seal-preloader.hiding {
    opacity: 1; /* Keep preloader visible during container animation */
    transition: none; /* Disable default fade */
    pointer-events: none;
}

#roman-seal-preloader.hiding .seal-container {
    animation: seal-implode-fade 0.6s ease-in forwards;
    animation-delay: 0.3s; /* Delay start after crack/shatter finishes */
}

/* Ensure the preloader fully hides after its container animation ends */
#roman-seal-preloader.hiding-complete {
    opacity: 0;
    transition: opacity 0.3s ease-out;
}

/* Ensure SVG scales correctly */
.seal-svg {
    width: 100%;
    height: 100%;
    display: block;
    position: absolute;
    top: 0; left: 0;
}
/* (End OF Part 4) */
/* (End of portfolio_css_v2) */
/* --- Quote Styling Enhancements --- */
.quote-container {
    min-height: 4em; /* Taller container for quotes */
    position: relative;
    margin-top: 1.5rem;
    margin-bottom: 2.5rem; /* Add space below quotes for the button */
    background-color: rgba(0, 0, 0, 0.2); /* Subtle background */
    border-radius: 8px;
    padding: 0.8rem 0.5rem;
    border: 1px solid rgba(218, 165, 32, 0.15); /* Subtle gold border */
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2); /* Inner shadow */
 }
 
 
 .quote-item {
    margin: 0;
    padding: 0 1.5rem; /* More horizontal padding */
    font-family: var(--font-subtitle);
 }
 
 
 /* --- Enter Button Styling --- */
 .enter-button {
    position: relative;
    padding: 0.9rem 2.5rem;
    font-family: var(--font-title);
    font-size: 1.1rem;
    font-weight: 600;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: #000; /* Dark text for contrast */
    background: linear-gradient(
        to bottom,
        #ffd700 0%,
        #f1c40f 30%,
        #cd9b1d 70%,
        #a67c00 100%
    );
    border: none;
    border-radius: 6px;
    cursor: pointer;
    overflow: hidden;
    box-shadow:
        0 4px 15px rgba(0, 0, 0, 0.4),
        0 0 20px rgba(218, 165, 32, 0.3),
        inset 0 0 10px rgba(255, 255, 255, 0.3); /* Inner highlight */
    transition: all 0.3s ease;
    transform: translateY(0);
    /* Initial state - slightly transparent */
    opacity: 0;
    animation: button-appear 1s ease 2.5s forwards;
 }
 
 
 /* Button hover effect */
 .enter-button:hover {
    transform: translateY(-4px);
    box-shadow:
        0 7px 20px rgba(0, 0, 0, 0.5),
        0 0 30px rgba(218, 165, 32, 0.5),
        inset 0 0 15px rgba(255, 255, 255, 0.5);
 }
 
 
 * Button active effect */
 .enter-button:active {
    transform: translateY(2px);
    box-shadow:
        0 2px 8px rgba(0, 0, 0, 0.4),
        0 0 10px rgba(218, 165, 32, 0.3),
        inset 0 0 5px rgba(255, 255, 255, 0.2);
 }
 
 
 /* Button text */
 .enter-text {
    z-index: 2; /* Above the gleam effect */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: #000; /* Dark text for contrast */
    font-size: 1.2rem;  
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    transition: color 0.3s ease;
    background: linear-gradient(
        to bottom,
        #ffd700 0%,
        #f1c40f 30%,
        #cd9b1d 70%,
        #a67c00 100%
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 5px rgba(218, 165, 32, 0.3)); /* Subtle glow */
    text-shadow: 0 0 5px rgba(218, 165, 32, 0.3); /* Subtle glow */
    transition: color 0.3s ease, text-shadow 0.3s ease;
    text-decoration: none;
    text-transform: uppercase;
    font-size: 1.2rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    transition: color 0.3s ease, text-shadow 0.3s ease;
    background: linear-gradient(
        to bottom,
        #ffd700 0%,
        #f1c40f 30%,
        #cd9b1d 70%,
        #a67c00 100%
    );
 }

/* --- Enter Button Styling --- */
.enter-button {
    position: relative;
    padding: 0.9rem 2.5rem;
    font-family: var(--font-title);
    font-size: 1.1rem;
    font-weight: 600;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: #000; /* Dark text for contrast */
    background: linear-gradient(
        to bottom,
        #ffd700 0%,
        #f1c40f 30%,
        #cd9b1d 70%,
        #a67c00 100%
    );
    border: none;
    border-radius: 6px;
    cursor: pointer;
    overflow: hidden;
    box-shadow: 
        0 4px 15px rgba(0, 0, 0, 0.4),
        0 0 20px rgba(218, 165, 32, 0.3),
        inset 0 0 10px rgba(255, 255, 255, 0.3); /* Inner highlight */
    transition: all 0.3s ease;
    transform: translateY(0);
    /* Initial state - slightly transparent */
    opacity: 0;
    animation: button-appear 1s ease 2.5s forwards;
    margin-top: 2rem;
    z-index: 5;
}

/* Button hover effect */
.enter-button:hover {
    transform: translateY(-4px);
    box-shadow: 
        0 7px 20px rgba(0, 0, 0, 0.5),
        0 0 30px rgba(218, 165, 32, 0.5),
        inset 0 0 15px rgba(255, 255, 255, 0.5);
}

/* Button active effect */
.enter-button:active {
    transform: translateY(2px);
    box-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.4),
        0 0 10px rgba(218, 165, 32, 0.3),
        inset 0 0 5px rgba(255, 255, 255, 0.2);
}

/* Button text */
.enter-text {
    position: relative;
    z-index: 2; /* Above the gleam effect */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Gleaming effect */
.enter-gleam {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.5),
        transparent
    );
    transform: rotate(45deg);
    animation: gleam-animation 6s infinite;
    z-index: 1;
}

/* Button appearance animation */
@keyframes button-appear {
    0% {
        opacity: 0;
        transform: scale(0.9) translateY(10px);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Gleaming animation */
@keyframes gleam-animation {
    0% {
        left: -50%;
        top: -50%;
    }
    20% {
        left: 100%;
        top: 100%;
    }
    50% {
        left: 0;
        top: 0;
    }
    100% {
        left: 100%;
        top: 100%;
    }
}
/* --- Quote Button Animation --- */
